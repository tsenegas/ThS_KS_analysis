{
  "hash": "2ae12f8073398fae910b71e2f84869bf",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Kickstarter Dataset Analysis\"\nauthor:\n    - name: Thibault Senegas\n      email: senegas.th@gmail.com\nformat:\n  html:\n    code-fold: true\n    code-summary: \"Show the code\"\n    toc: true\n    toc-location: left\n    warning: false\n    message: false\n---\n\n\n\n\n# Executive Summary\n\nDans le cadre de cette analyse technique en science des données, j'ai choisi d'utiliser et découvrir le nouvel IDE de Posit (anciennement Rstudio). Cet outil novateur offre une intégration fluide entre différents langages de programmation, notamment R et Python. En tant qu'utilisateur principal de R, cette approche m'a permis de réaliser l'analyse de manièere rapide en utilisant R tout en fournissant une version de Python au sein du même projet.\n\nJ'ai voulu faire l'analyse du jeu de donnée Kickstarter de manière simple et rapide. La réalisation de l'analyse en R a pris environ 2h30. Dans l'analyse en Python, curieux de voir si je pouvais améliorer mon premier modèle réalisé en R, j'ai décidé de tester directement un modèle lightGBM et sélectionné des variables un peu différentes - la traduction basique du code R en Python ne me semblant pas très intéressante.\n\n\n# Packages for Analysis\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(dplyr)\nlibrary(skimr)\nlibrary(lubridate)\nlibrary(highcharter)\nlibrary(tidytext)\nlibrary(textdata)\nlibrary(tidymodels)\nlibrary(vip)\n```\n:::\n\n\n\n\n\n# EDA\n\n## Load and clean raw dataset\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_raw = read.csv(\"data/ks_dataset.csv\")\n```\n:::\n\n\n\n\nIl apparaît que certaines observations dans le jeu de données sont décalées, générant ainsi quatre colonnes presque vides (X à X.3). Nous pourrions prendre le temps de corriger ces observations, mais étant donné qu'elles sont peu nombreuses, j'ai choisi de ne conserver que les observations correctes.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexistring_category = as.data.frame(table(df_raw$category)) |>\n    subset(Freq >= 10 )\n\ndf = df_raw |>\n    subset(category %in% existring_category$Var1) |>\n    select(-X, -X.1, -X.2, -X.3)\n```\n:::\n\n\n\n\nNous disposons désormais d'un jeu de données propre, avec une perte limitée à seulement 632 observations.\n\n## Cleaning\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf = df |>\n    mutate(\n        category = factor(category),\n        main_category = factor(main_category),\n        currency = factor(currency),\n        state = factor(state),\n        country = factor(country),\n        deadline = lubridate::ymd_hms(deadline),\n        launched = lubridate::ymd_hms(launched),\n        goal = as.numeric(goal),\n        pledged = as.numeric(pledged),\n        backers = as.numeric(backers),\n        usd.pledged = as.numeric(usd.pledged)\n        )\n\nskimr::skim(df)\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |       |\n|:------------------------|:------|\n|Name                     |df     |\n|Number of rows           |323118 |\n|Number of columns        |13     |\n|_______________________  |       |\n|Column type frequency:   |       |\n|character                |1      |\n|factor                   |5      |\n|numeric                  |5      |\n|POSIXct                  |2      |\n|________________________ |       |\n|Group variables          |None   |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|name          |         1|             1|   1|  96|     0|   321005|          0|\n\n\n**Variable type: factor**\n\n|skim_variable | n_missing| complete_rate|ordered | n_unique|top_counts                                      |\n|:-------------|---------:|-------------:|:-------|--------:|:-----------------------------------------------|\n|category      |         0|             1|FALSE   |      158|Pro: 17477, Doc: 14891, Mus: 13907, Sho: 11681  |\n|main_category |         0|             1|FALSE   |       15|Fil: 57662, Mus: 46718, Pub: 34221, Gam: 28005  |\n|currency      |         0|             1|FALSE   |       13|USD: 260298, GBP: 27968, CAD: 12197, EUR: 11555 |\n|state         |         0|             1|FALSE   |        6|fai: 168221, suc: 113081, can: 32354, liv: 4428 |\n|country       |         0|             1|FALSE   |       22|US: 257565, GB: 27509, CA: 11992, AU: 6236      |\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|         mean|           sd|      p0|       p25|        p50|        p75|       p100|hist  |\n|:-------------|---------:|-------------:|------------:|------------:|-------:|---------:|----------:|----------:|----------:|:-----|\n|ID            |         0|          1.00| 1.074901e+09| 619312343.84| 5971.00| 537572149| 1075764205| 1611025056| 2147476221|▇▇▇▇▇ |\n|goal          |         0|          1.00| 4.715252e+04|   1139577.48|    0.01|      2000|       5000|      15000|  100000000|▇▁▁▁▁ |\n|pledged       |         0|          1.00| 8.696730e+03|     89586.41|    0.00|        30|        610|       3938|   20338986|▇▁▁▁▁ |\n|backers       |         0|          1.00| 1.016300e+02|       934.92|    0.00|         2|         12|         55|     219382|▇▁▁▁▁ |\n|usd.pledged   |      3790|          0.99| 7.847680e+03|     84684.05|    0.00|        25|        535|       3575|   20338986|▇▁▁▁▁ |\n\n\n**Variable type: POSIXct**\n\n|skim_variable | n_missing| complete_rate|min                 |max                 |median              | n_unique|\n|:-------------|---------:|-------------:|:-------------------|:-------------------|:-------------------|--------:|\n|deadline      |         0|             1|2009-05-03 08:59:59 |2017-02-04 08:54:55 |2014-09-07 17:59:12 |   294796|\n|launched      |         0|             1|1970-01-01 01:00:00 |2016-12-06 10:18:31 |2014-08-05 01:15:39 |   322631|\n\n\n:::\n:::\n\n\n\n\nExaminons la distribution des projets lancés au fil des années :\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(lubridate::year(df$launched)) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n 1970  2009  2010  2011  2012  2013  2014  2015  2016 \n    7  1324 10491 26174 41090 44755 67602 77180 54495 \n```\n\n\n:::\n:::\n\n\n\n\nNous constatons que 7 projets ont été lancés en 1970 et seulement 1 324 en 2009. Nous allons supprimer ces projets afin de travailler avec des années complètes.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf = df |>\n    dplyr::filter(!(lubridate::year(launched) %in% c(1970, 2009)))\n```\n:::\n\n\n\n\nFaisons une dernière vérification pour nous assurer qu'il n'y a pas de valeurs manquantes.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsapply(df, function(x) sum(is.na(x)))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n           ID          name      category main_category      currency \n            0             1             0             0             0 \n     deadline          goal      launched       pledged         state \n            0             0             0             0             0 \n      backers       country   usd.pledged \n            0             0          3790 \n```\n\n\n:::\n:::\n\n\n\n\nNous avons une observation avec un 'name' manquant et 3 790 observations avec un 'usd.pledged' manquant. Par souci de simplicité, nous allons retirer ces observations. Il aurait également été possible de retrouver le taux de change du jour et de réintégrer la valeur correcte pour 'usd.pledged'.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf = df[complete.cases(df), ]\n```\n:::\n\n\n\n\n\nPour simplifier l'analyse, nous allons recoder notre variable cible 'state' en une variable binaire. Par la même occasion, nous supprimerons les projets ayant un état 'undefined' ou 'live'.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf = df |>\n    dplyr::filter(state %in% c(\"failed\", \"canceled\", \"successful\", \"suspended\")) |>\n    mutate(\n        state_binary = factor(ifelse(state == \"successful\", 1, 0))\n    )\n\ntable(df$state_binary)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n     0      1 \n201169 112400 \n```\n\n\n:::\n:::\n\n\n\n\nSur les 313,569 projets dans notre jeu de données, 112,400 ont été financés, ce qui représente environ 36 %. Bien que notre jeu de données ne soit pas parfaitement équilibré, nous allons le garder tel quel.\n\n## Data Visualizations\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_success_per_year <- df |>\n    mutate(\n        year_launch = lubridate::year(launched),\n        state_binary = factor(state_binary, levels = c(0, 1), labels = c(\"Failed\", \"Success\"))\n    ) |>\n     group_by(year_launch, state_binary) |>\n     summarise(n_proj = n()) |>\n    highcharter::hchart('column', hcaes(x = year_launch, y = n_proj, group = state_binary),\n    stacking = 'normal'\n    ) |>\n        hc_colors(c(\"rgb(155, 20, 20)\", \"rgba(8, 160, 31, 0.5)\")) |>\n        hc_title(text = \"Nombre de projets 'successful' et 'failed' par années\") |>\n        hc_xAxis(title = list(text = \"Année de lancement\")) |>\n        hc_yAxis(title = list(text = \"Nombre de projets\")) \n \n \nplot_success_per_year\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-31a95c7b9d0c6fb8b386\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-31a95c7b9d0c6fb8b386\">{\"x\":{\"hc_opts\":{\"chart\":{\"reflow\":true},\"title\":{\"text\":\"Nombre de projets 'successful' et 'failed' par années\"},\"yAxis\":{\"title\":{\"text\":\"Nombre de projets\"},\"type\":\"linear\"},\"credits\":{\"enabled\":false},\"exporting\":{\"enabled\":false},\"boost\":{\"enabled\":false},\"plotOptions\":{\"series\":{\"label\":{\"enabled\":false},\"turboThreshold\":0,\"showInLegend\":true},\"treemap\":{\"layoutAlgorithm\":\"squarified\"},\"scatter\":{\"marker\":{\"symbol\":\"circle\"}}},\"series\":[{\"name\":\"Failed\",\"data\":[{\"year_launch\":2010,\"state_binary\":\"Failed\",\"n_proj\":5906,\"x\":2010,\"y\":5906},{\"year_launch\":2011,\"state_binary\":\"Failed\",\"n_proj\":14021,\"x\":2011,\"y\":14021},{\"year_launch\":2012,\"state_binary\":\"Failed\",\"n_proj\":23222,\"x\":2012,\"y\":23222},{\"year_launch\":2013,\"state_binary\":\"Failed\",\"n_proj\":25365,\"x\":2013,\"y\":25365},{\"year_launch\":2014,\"state_binary\":\"Failed\",\"n_proj\":45776,\"x\":2014,\"y\":45776},{\"year_launch\":2015,\"state_binary\":\"Failed\",\"n_proj\":53862,\"x\":2015,\"y\":53862},{\"year_launch\":2016,\"state_binary\":\"Failed\",\"n_proj\":33017,\"x\":2016,\"y\":33017}],\"type\":\"column\",\"stacking\":\"normal\"},{\"name\":\"Success\",\"data\":[{\"year_launch\":2010,\"state_binary\":\"Success\",\"n_proj\":4585,\"x\":2010,\"y\":4585},{\"year_launch\":2011,\"state_binary\":\"Success\",\"n_proj\":12152,\"x\":2011,\"y\":12152},{\"year_launch\":2012,\"state_binary\":\"Success\",\"n_proj\":17866,\"x\":2012,\"y\":17866},{\"year_launch\":2013,\"state_binary\":\"Success\",\"n_proj\":19375,\"x\":2013,\"y\":19375},{\"year_launch\":2014,\"state_binary\":\"Success\",\"n_proj\":21075,\"x\":2014,\"y\":21075},{\"year_launch\":2015,\"state_binary\":\"Success\",\"n_proj\":20943,\"x\":2015,\"y\":20943},{\"year_launch\":2016,\"state_binary\":\"Success\",\"n_proj\":16404,\"x\":2016,\"y\":16404}],\"type\":\"column\",\"stacking\":\"normal\"}],\"xAxis\":{\"type\":\"linear\",\"title\":{\"text\":\"Année de lancement\"}},\"colors\":[\"rgb(155, 20, 20)\",\"rgba(8, 160, 31, 0.5)\"]},\"theme\":{\"chart\":{\"backgroundColor\":\"transparent\"},\"colors\":[\"#7cb5ec\",\"#434348\",\"#90ed7d\",\"#f7a35c\",\"#8085e9\",\"#f15c80\",\"#e4d354\",\"#2b908f\",\"#f45b5b\",\"#91e8e1\"]},\"conf_opts\":{\"global\":{\"Date\":null,\"VMLRadialGradientURL\":\"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png\",\"canvasToolsURL\":\"http =//code.highcharts.com/list(version)/modules/canvas-tools.js\",\"getTimezoneOffset\":null,\"timezoneOffset\":0,\"useUTC\":true},\"lang\":{\"contextButtonTitle\":\"Chart context menu\",\"decimalPoint\":\".\",\"downloadCSV\":\"Download CSV\",\"downloadJPEG\":\"Download JPEG image\",\"downloadPDF\":\"Download PDF document\",\"downloadPNG\":\"Download PNG image\",\"downloadSVG\":\"Download SVG vector image\",\"downloadXLS\":\"Download XLS\",\"drillUpText\":\"◁ Back to {series.name}\",\"exitFullscreen\":\"Exit from full screen\",\"exportData\":{\"annotationHeader\":\"Annotations\",\"categoryDatetimeHeader\":\"DateTime\",\"categoryHeader\":\"Category\"},\"hideData\":\"Hide data table\",\"invalidDate\":null,\"loading\":\"Loading...\",\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"noData\":\"No data to display\",\"numericSymbolMagnitude\":1000,\"numericSymbols\":[\"k\",\"M\",\"G\",\"T\",\"P\",\"E\"],\"printChart\":\"Print chart\",\"resetZoom\":\"Reset zoom\",\"resetZoomTitle\":\"Reset zoom level 1:1\",\"shortMonths\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"shortWeekdays\":[\"Sat\",\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\"],\"thousandsSep\":\" \",\"viewData\":\"View data table\",\"viewFullscreen\":\"View in full screen\",\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]}},\"type\":\"chart\",\"fonts\":[],\"debug\":false},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_success_percent_per_year <- df |>\n    mutate(\n        year_launch = lubridate::year(launched),\n        state_binary = factor(state_binary, levels = c(0, 1))\n    ) |>\n     group_by(year_launch) |>\n     summarise(succ_rate = round((mean(as.numeric(state_binary) - 1)) * 100)) |>\n    highcharter::hchart('column', hcaes(x = year_launch, y = succ_rate),\n    stacking = 'normal'\n    ) |>\n        hc_title(text = \"Taux de réussite par années\") |>\n        hc_xAxis(title = list(text = \"Année de lancement\")) |>\n        hc_yAxis(title = list(text = \"Taux réussite (%)\")) \n \n \nplot_success_percent_per_year\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-a592af0173fbe356ea8b\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-a592af0173fbe356ea8b\">{\"x\":{\"hc_opts\":{\"chart\":{\"reflow\":true},\"title\":{\"text\":\"Taux de réussite par années\"},\"yAxis\":{\"title\":{\"text\":\"Taux réussite (%)\"},\"type\":\"linear\"},\"credits\":{\"enabled\":false},\"exporting\":{\"enabled\":false},\"boost\":{\"enabled\":false},\"plotOptions\":{\"series\":{\"label\":{\"enabled\":false},\"turboThreshold\":0,\"showInLegend\":false},\"treemap\":{\"layoutAlgorithm\":\"squarified\"},\"scatter\":{\"marker\":{\"symbol\":\"circle\"}}},\"series\":[{\"group\":\"group\",\"data\":[{\"year_launch\":2010,\"succ_rate\":44,\"x\":2010,\"y\":44},{\"year_launch\":2011,\"succ_rate\":46,\"x\":2011,\"y\":46},{\"year_launch\":2012,\"succ_rate\":43,\"x\":2012,\"y\":43},{\"year_launch\":2013,\"succ_rate\":43,\"x\":2013,\"y\":43},{\"year_launch\":2014,\"succ_rate\":32,\"x\":2014,\"y\":32},{\"year_launch\":2015,\"succ_rate\":28,\"x\":2015,\"y\":28},{\"year_launch\":2016,\"succ_rate\":33,\"x\":2016,\"y\":33}],\"type\":\"column\",\"stacking\":\"normal\"}],\"xAxis\":{\"type\":\"linear\",\"title\":{\"text\":\"Année de lancement\"}}},\"theme\":{\"chart\":{\"backgroundColor\":\"transparent\"},\"colors\":[\"#7cb5ec\",\"#434348\",\"#90ed7d\",\"#f7a35c\",\"#8085e9\",\"#f15c80\",\"#e4d354\",\"#2b908f\",\"#f45b5b\",\"#91e8e1\"]},\"conf_opts\":{\"global\":{\"Date\":null,\"VMLRadialGradientURL\":\"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png\",\"canvasToolsURL\":\"http =//code.highcharts.com/list(version)/modules/canvas-tools.js\",\"getTimezoneOffset\":null,\"timezoneOffset\":0,\"useUTC\":true},\"lang\":{\"contextButtonTitle\":\"Chart context menu\",\"decimalPoint\":\".\",\"downloadCSV\":\"Download CSV\",\"downloadJPEG\":\"Download JPEG image\",\"downloadPDF\":\"Download PDF document\",\"downloadPNG\":\"Download PNG image\",\"downloadSVG\":\"Download SVG vector image\",\"downloadXLS\":\"Download XLS\",\"drillUpText\":\"◁ Back to {series.name}\",\"exitFullscreen\":\"Exit from full screen\",\"exportData\":{\"annotationHeader\":\"Annotations\",\"categoryDatetimeHeader\":\"DateTime\",\"categoryHeader\":\"Category\"},\"hideData\":\"Hide data table\",\"invalidDate\":null,\"loading\":\"Loading...\",\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"noData\":\"No data to display\",\"numericSymbolMagnitude\":1000,\"numericSymbols\":[\"k\",\"M\",\"G\",\"T\",\"P\",\"E\"],\"printChart\":\"Print chart\",\"resetZoom\":\"Reset zoom\",\"resetZoomTitle\":\"Reset zoom level 1:1\",\"shortMonths\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"shortWeekdays\":[\"Sat\",\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\"],\"thousandsSep\":\" \",\"viewData\":\"View data table\",\"viewFullscreen\":\"View in full screen\",\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]}},\"type\":\"chart\",\"fonts\":[],\"debug\":false},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_usd_invest_per_year <- df |>\n    mutate(\n        year_launch = lubridate::year(launched),\n        state_binary = factor(state_binary, levels = c(0, 1), labels = c(\"Failed\", \"Success\"))\n    ) |>\n     group_by(year_launch, state_binary) |>\n     summarise(pledged_per_year = round(sum(usd.pledged) / 1000000)) |> \n    highcharter::hchart('column', hcaes(x = year_launch, y = pledged_per_year, group = state_binary),\n    stacking = 'normal'\n    ) |>\n        hc_colors(c(\"rgb(155, 20, 20)\", \"rgba(8, 160, 31, 0.5)\")) |>\n        hc_title(text = \"Total d'argent investis par années\") |>\n        hc_xAxis(title = list(text = \"Année de lancement\")) |>\n        hc_yAxis(title = list(text = \"USD en million\")) \n \nplot_usd_invest_per_year\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-a4e588a90394f23c067a\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-a4e588a90394f23c067a\">{\"x\":{\"hc_opts\":{\"chart\":{\"reflow\":true},\"title\":{\"text\":\"Total d'argent investis par années\"},\"yAxis\":{\"title\":{\"text\":\"USD en million\"},\"type\":\"linear\"},\"credits\":{\"enabled\":false},\"exporting\":{\"enabled\":false},\"boost\":{\"enabled\":false},\"plotOptions\":{\"series\":{\"label\":{\"enabled\":false},\"turboThreshold\":0,\"showInLegend\":true},\"treemap\":{\"layoutAlgorithm\":\"squarified\"},\"scatter\":{\"marker\":{\"symbol\":\"circle\"}}},\"series\":[{\"name\":\"Failed\",\"data\":[{\"year_launch\":2010,\"state_binary\":\"Failed\",\"pledged_per_year\":3,\"x\":2010,\"y\":3},{\"year_launch\":2011,\"state_binary\":\"Failed\",\"pledged_per_year\":12,\"x\":2011,\"y\":12},{\"year_launch\":2012,\"state_binary\":\"Failed\",\"pledged_per_year\":36,\"x\":2012,\"y\":36},{\"year_launch\":2013,\"state_binary\":\"Failed\",\"pledged_per_year\":59,\"x\":2013,\"y\":59},{\"year_launch\":2014,\"state_binary\":\"Failed\",\"pledged_per_year\":73,\"x\":2014,\"y\":73},{\"year_launch\":2015,\"state_binary\":\"Failed\",\"pledged_per_year\":76,\"x\":2015,\"y\":76},{\"year_launch\":2016,\"state_binary\":\"Failed\",\"pledged_per_year\":36,\"x\":2016,\"y\":36}],\"type\":\"column\",\"stacking\":\"normal\"},{\"name\":\"Success\",\"data\":[{\"year_launch\":2010,\"state_binary\":\"Success\",\"pledged_per_year\":26,\"x\":2010,\"y\":26},{\"year_launch\":2011,\"state_binary\":\"Success\",\"pledged_per_year\":92,\"x\":2011,\"y\":92},{\"year_launch\":2012,\"state_binary\":\"Success\",\"pledged_per_year\":286,\"x\":2012,\"y\":286},{\"year_launch\":2013,\"state_binary\":\"Success\",\"pledged_per_year\":419,\"x\":2013,\"y\":419},{\"year_launch\":2014,\"state_binary\":\"Success\",\"pledged_per_year\":447,\"x\":2014,\"y\":447},{\"year_launch\":2015,\"state_binary\":\"Success\",\"pledged_per_year\":607,\"x\":2015,\"y\":607},{\"year_launch\":2016,\"state_binary\":\"Success\",\"pledged_per_year\":318,\"x\":2016,\"y\":318}],\"type\":\"column\",\"stacking\":\"normal\"}],\"xAxis\":{\"type\":\"linear\",\"title\":{\"text\":\"Année de lancement\"}},\"colors\":[\"rgb(155, 20, 20)\",\"rgba(8, 160, 31, 0.5)\"]},\"theme\":{\"chart\":{\"backgroundColor\":\"transparent\"},\"colors\":[\"#7cb5ec\",\"#434348\",\"#90ed7d\",\"#f7a35c\",\"#8085e9\",\"#f15c80\",\"#e4d354\",\"#2b908f\",\"#f45b5b\",\"#91e8e1\"]},\"conf_opts\":{\"global\":{\"Date\":null,\"VMLRadialGradientURL\":\"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png\",\"canvasToolsURL\":\"http =//code.highcharts.com/list(version)/modules/canvas-tools.js\",\"getTimezoneOffset\":null,\"timezoneOffset\":0,\"useUTC\":true},\"lang\":{\"contextButtonTitle\":\"Chart context menu\",\"decimalPoint\":\".\",\"downloadCSV\":\"Download CSV\",\"downloadJPEG\":\"Download JPEG image\",\"downloadPDF\":\"Download PDF document\",\"downloadPNG\":\"Download PNG image\",\"downloadSVG\":\"Download SVG vector image\",\"downloadXLS\":\"Download XLS\",\"drillUpText\":\"◁ Back to {series.name}\",\"exitFullscreen\":\"Exit from full screen\",\"exportData\":{\"annotationHeader\":\"Annotations\",\"categoryDatetimeHeader\":\"DateTime\",\"categoryHeader\":\"Category\"},\"hideData\":\"Hide data table\",\"invalidDate\":null,\"loading\":\"Loading...\",\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"noData\":\"No data to display\",\"numericSymbolMagnitude\":1000,\"numericSymbols\":[\"k\",\"M\",\"G\",\"T\",\"P\",\"E\"],\"printChart\":\"Print chart\",\"resetZoom\":\"Reset zoom\",\"resetZoomTitle\":\"Reset zoom level 1:1\",\"shortMonths\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"shortWeekdays\":[\"Sat\",\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\"],\"thousandsSep\":\" \",\"viewData\":\"View data table\",\"viewFullscreen\":\"View in full screen\",\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]}},\"type\":\"chart\",\"fonts\":[],\"debug\":false},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_avg_goal_year_usd <- df |>\n    subset(currency == 'USD') |>\n    mutate(\n        year_launch = lubridate::year(launched),\n        state_binary = factor(state_binary, levels = c(0, 1), labels = c(\"Failed\", \"Success\"))\n    ) |>\n     group_by(year_launch, state_binary) |>\n     summarise(goal_per_year = round(mean(goal))) |> \n    highcharter::hchart('column', hcaes(x = year_launch, y = goal_per_year, group = state_binary),\n    stacking = 'normal'\n    ) |>\n        hc_colors(c(\"rgb(155, 20, 20)\", \"rgba(8, 160, 31, 0.5)\")) |>\n        hc_title(text = \"Moyenne des Goal des projets (Projets en USD)\") |>\n        hc_xAxis(title = list(text = \"Année de lancement\")) |>\n        hc_yAxis(title = list(text = \"USD\")) \n \nplot_usd_invest_per_year\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-39065082370ab4f8b7dc\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-39065082370ab4f8b7dc\">{\"x\":{\"hc_opts\":{\"chart\":{\"reflow\":true},\"title\":{\"text\":\"Total d'argent investis par années\"},\"yAxis\":{\"title\":{\"text\":\"USD en million\"},\"type\":\"linear\"},\"credits\":{\"enabled\":false},\"exporting\":{\"enabled\":false},\"boost\":{\"enabled\":false},\"plotOptions\":{\"series\":{\"label\":{\"enabled\":false},\"turboThreshold\":0,\"showInLegend\":true},\"treemap\":{\"layoutAlgorithm\":\"squarified\"},\"scatter\":{\"marker\":{\"symbol\":\"circle\"}}},\"series\":[{\"name\":\"Failed\",\"data\":[{\"year_launch\":2010,\"state_binary\":\"Failed\",\"pledged_per_year\":3,\"x\":2010,\"y\":3},{\"year_launch\":2011,\"state_binary\":\"Failed\",\"pledged_per_year\":12,\"x\":2011,\"y\":12},{\"year_launch\":2012,\"state_binary\":\"Failed\",\"pledged_per_year\":36,\"x\":2012,\"y\":36},{\"year_launch\":2013,\"state_binary\":\"Failed\",\"pledged_per_year\":59,\"x\":2013,\"y\":59},{\"year_launch\":2014,\"state_binary\":\"Failed\",\"pledged_per_year\":73,\"x\":2014,\"y\":73},{\"year_launch\":2015,\"state_binary\":\"Failed\",\"pledged_per_year\":76,\"x\":2015,\"y\":76},{\"year_launch\":2016,\"state_binary\":\"Failed\",\"pledged_per_year\":36,\"x\":2016,\"y\":36}],\"type\":\"column\",\"stacking\":\"normal\"},{\"name\":\"Success\",\"data\":[{\"year_launch\":2010,\"state_binary\":\"Success\",\"pledged_per_year\":26,\"x\":2010,\"y\":26},{\"year_launch\":2011,\"state_binary\":\"Success\",\"pledged_per_year\":92,\"x\":2011,\"y\":92},{\"year_launch\":2012,\"state_binary\":\"Success\",\"pledged_per_year\":286,\"x\":2012,\"y\":286},{\"year_launch\":2013,\"state_binary\":\"Success\",\"pledged_per_year\":419,\"x\":2013,\"y\":419},{\"year_launch\":2014,\"state_binary\":\"Success\",\"pledged_per_year\":447,\"x\":2014,\"y\":447},{\"year_launch\":2015,\"state_binary\":\"Success\",\"pledged_per_year\":607,\"x\":2015,\"y\":607},{\"year_launch\":2016,\"state_binary\":\"Success\",\"pledged_per_year\":318,\"x\":2016,\"y\":318}],\"type\":\"column\",\"stacking\":\"normal\"}],\"xAxis\":{\"type\":\"linear\",\"title\":{\"text\":\"Année de lancement\"}},\"colors\":[\"rgb(155, 20, 20)\",\"rgba(8, 160, 31, 0.5)\"]},\"theme\":{\"chart\":{\"backgroundColor\":\"transparent\"},\"colors\":[\"#7cb5ec\",\"#434348\",\"#90ed7d\",\"#f7a35c\",\"#8085e9\",\"#f15c80\",\"#e4d354\",\"#2b908f\",\"#f45b5b\",\"#91e8e1\"]},\"conf_opts\":{\"global\":{\"Date\":null,\"VMLRadialGradientURL\":\"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png\",\"canvasToolsURL\":\"http =//code.highcharts.com/list(version)/modules/canvas-tools.js\",\"getTimezoneOffset\":null,\"timezoneOffset\":0,\"useUTC\":true},\"lang\":{\"contextButtonTitle\":\"Chart context menu\",\"decimalPoint\":\".\",\"downloadCSV\":\"Download CSV\",\"downloadJPEG\":\"Download JPEG image\",\"downloadPDF\":\"Download PDF document\",\"downloadPNG\":\"Download PNG image\",\"downloadSVG\":\"Download SVG vector image\",\"downloadXLS\":\"Download XLS\",\"drillUpText\":\"◁ Back to {series.name}\",\"exitFullscreen\":\"Exit from full screen\",\"exportData\":{\"annotationHeader\":\"Annotations\",\"categoryDatetimeHeader\":\"DateTime\",\"categoryHeader\":\"Category\"},\"hideData\":\"Hide data table\",\"invalidDate\":null,\"loading\":\"Loading...\",\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"noData\":\"No data to display\",\"numericSymbolMagnitude\":1000,\"numericSymbols\":[\"k\",\"M\",\"G\",\"T\",\"P\",\"E\"],\"printChart\":\"Print chart\",\"resetZoom\":\"Reset zoom\",\"resetZoomTitle\":\"Reset zoom level 1:1\",\"shortMonths\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"shortWeekdays\":[\"Sat\",\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\"],\"thousandsSep\":\" \",\"viewData\":\"View data table\",\"viewFullscreen\":\"View in full screen\",\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]}},\"type\":\"chart\",\"fonts\":[],\"debug\":false},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\nAvec ces 4 visualisations simples nous pouvons voir les choses suivantes :\n- Le nombre de projets déposés sur kickstarter a augmenté pour atteindre son piqu en 2015\n- Cette augmentation ne se traduit pas par un taux de succés stable, au contraire. \n- Si l'on regarde la somme d'argent investis par années (en millions de USD), en séparant les projets financés et ceux qui échouent, nous pouvons penser que c'est quitte ou double pour un projet. Soit celui-ci est financé totalement soit il recoit très peu d'investissement et il échoue.\n- En nous basant uniquement sur les projets en USD, la moyenne pour les projets qui réussisse de l'objectif (en USD) sont nettement inférieur à la moyenne des objectifs (en USD) des projets qui échouent.\n\nExplorons maintenant les category / main_category des projets, leur taux de réussite, ainsi que la durée des projets déposés et le pays dans lequel sont déposés les projets.\n\nAvec ces quatre visualisations simples, nous pouvons observer les points suivants :\n\n- Le nombre de projets déposés sur Kickstarter a augmenté, atteignant un pic en 2015.\n- Cette augmentation n'a pas entraîné un taux de succès stable ; au contraire, le taux de succès semble diminuer.\n- En examinant les sommes investies par année (en millions de USD), en distinguant les projets financés de ceux qui échouent, on constate que les projets semblent avoir une issue binaire : soit ils sont complètement financés, soit ils reçoivent très peu d'investissements et échouent.\n- En nous basant uniquement sur les projets en USD, la moyenne des objectifs de financement (en USD) pour les projets ayant réussi est nettement inférieure à la moyenne des objectifs de financement (en USD) des projets ayant échoué.\n\nExplorons maintenant les catégories et sous-catégories des projets, leur taux de réussite, ainsi que la durée des projets et les pays d'origine.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- df |>\n    mutate(\n        duration = round(deadline - launched)\n    )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_main_category_success <- df |>\n    mutate(\n        year_launch = lubridate::year(launched),\n        state_binary = factor(state_binary, levels = c(0, 1), labels = c(\"Failed\", \"Success\"))\n    ) |>\n        group_by(main_category, state_binary) |>\n        summarise(n_proj = n()) |>\n        arrange(desc(n_proj))|> \n        highcharter::hchart('column', hcaes(x = main_category, y = n_proj, group = state_binary),\n    stacking = 'normal'\n    ) |>\n        hc_colors(c(\"rgb(155, 20, 20)\", \"rgba(8, 160, 31, 0.5)\")) |>\n        hc_title(text = \"Nombre de projets Failed & Succed par main_catergory\") |>\n        hc_xAxis(title = list(text = \"Main Category\")) |>\n        hc_yAxis(title = list(text = \"nombre projet\")) \n \nplot_main_category_success\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-10f3e9c82ddc76fc3ee2\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-10f3e9c82ddc76fc3ee2\">{\"x\":{\"hc_opts\":{\"chart\":{\"reflow\":true},\"title\":{\"text\":\"Nombre de projets Failed & Succed par main_catergory\"},\"yAxis\":{\"title\":{\"text\":\"nombre projet\"},\"type\":\"linear\"},\"credits\":{\"enabled\":false},\"exporting\":{\"enabled\":false},\"boost\":{\"enabled\":false},\"plotOptions\":{\"series\":{\"label\":{\"enabled\":false},\"turboThreshold\":0,\"showInLegend\":true},\"treemap\":{\"layoutAlgorithm\":\"squarified\"},\"scatter\":{\"marker\":{\"symbol\":\"circle\"}}},\"series\":[{\"name\":\"Failed\",\"data\":[{\"main_category\":\"Film & Video\",\"state_binary\":\"Failed\",\"n_proj\":34679,\"y\":34679,\"name\":\"Film & Video\"},{\"main_category\":\"Publishing\",\"state_binary\":\"Failed\",\"n_proj\":22950,\"y\":22950,\"name\":\"Publishing\"},{\"main_category\":\"Music\",\"state_binary\":\"Failed\",\"n_proj\":22057,\"y\":22057,\"name\":\"Music\"},{\"main_category\":\"Technology\",\"state_binary\":\"Failed\",\"n_proj\":20375,\"y\":20375,\"name\":\"Technology\"},{\"main_category\":\"Games\",\"state_binary\":\"Failed\",\"n_proj\":18130,\"y\":18130,\"name\":\"Games\"},{\"main_category\":\"Food\",\"state_binary\":\"Failed\",\"n_proj\":15646,\"y\":15646,\"name\":\"Food\"},{\"main_category\":\"Design\",\"state_binary\":\"Failed\",\"n_proj\":15331,\"y\":15331,\"name\":\"Design\"},{\"main_category\":\"Art\",\"state_binary\":\"Failed\",\"n_proj\":13955,\"y\":13955,\"name\":\"Art\"},{\"main_category\":\"Fashion\",\"state_binary\":\"Failed\",\"n_proj\":13713,\"y\":13713,\"name\":\"Fashion\"},{\"main_category\":\"Photography\",\"state_binary\":\"Failed\",\"n_proj\":6632,\"y\":6632,\"name\":\"Photography\"},{\"main_category\":\"Crafts\",\"state_binary\":\"Failed\",\"n_proj\":5363,\"y\":5363,\"name\":\"Crafts\"},{\"main_category\":\"Comics\",\"state_binary\":\"Failed\",\"n_proj\":4116,\"y\":4116,\"name\":\"Comics\"},{\"main_category\":\"Theater\",\"state_binary\":\"Failed\",\"n_proj\":3871,\"y\":3871,\"name\":\"Theater\"},{\"main_category\":\"Journalism\",\"state_binary\":\"Failed\",\"n_proj\":3118,\"y\":3118,\"name\":\"Journalism\"},{\"main_category\":\"Dance\",\"state_binary\":\"Failed\",\"n_proj\":1233,\"y\":1233,\"name\":\"Dance\"}],\"type\":\"column\",\"stacking\":\"normal\"},{\"name\":\"Success\",\"data\":[{\"main_category\":\"Music\",\"state_binary\":\"Success\",\"n_proj\":21514,\"y\":21514,\"name\":\"Music\"},{\"main_category\":\"Film & Video\",\"state_binary\":\"Success\",\"n_proj\":21271,\"y\":21271,\"name\":\"Film & Video\"},{\"main_category\":\"Publishing\",\"state_binary\":\"Success\",\"n_proj\":10198,\"y\":10198,\"name\":\"Publishing\"},{\"main_category\":\"Art\",\"state_binary\":\"Success\",\"n_proj\":9577,\"y\":9577,\"name\":\"Art\"},{\"main_category\":\"Games\",\"state_binary\":\"Success\",\"n_proj\":9362,\"y\":9362,\"name\":\"Games\"},{\"main_category\":\"Design\",\"state_binary\":\"Success\",\"n_proj\":7950,\"y\":7950,\"name\":\"Design\"},{\"main_category\":\"Theater\",\"state_binary\":\"Success\",\"n_proj\":5967,\"y\":5967,\"name\":\"Theater\"},{\"main_category\":\"Food\",\"state_binary\":\"Success\",\"n_proj\":5239,\"y\":5239,\"name\":\"Food\"},{\"main_category\":\"Technology\",\"state_binary\":\"Success\",\"n_proj\":5043,\"y\":5043,\"name\":\"Technology\"},{\"main_category\":\"Comics\",\"state_binary\":\"Success\",\"n_proj\":4487,\"y\":4487,\"name\":\"Comics\"},{\"main_category\":\"Fashion\",\"state_binary\":\"Success\",\"n_proj\":4306,\"y\":4306,\"name\":\"Fashion\"},{\"main_category\":\"Photography\",\"state_binary\":\"Success\",\"n_proj\":2872,\"y\":2872,\"name\":\"Photography\"},{\"main_category\":\"Dance\",\"state_binary\":\"Success\",\"n_proj\":2098,\"y\":2098,\"name\":\"Dance\"},{\"main_category\":\"Crafts\",\"state_binary\":\"Success\",\"n_proj\":1667,\"y\":1667,\"name\":\"Crafts\"},{\"main_category\":\"Journalism\",\"state_binary\":\"Success\",\"n_proj\":849,\"y\":849,\"name\":\"Journalism\"}],\"type\":\"column\",\"stacking\":\"normal\"}],\"xAxis\":{\"type\":\"category\",\"title\":{\"text\":\"Main Category\"}},\"colors\":[\"rgb(155, 20, 20)\",\"rgba(8, 160, 31, 0.5)\"]},\"theme\":{\"chart\":{\"backgroundColor\":\"transparent\"},\"colors\":[\"#7cb5ec\",\"#434348\",\"#90ed7d\",\"#f7a35c\",\"#8085e9\",\"#f15c80\",\"#e4d354\",\"#2b908f\",\"#f45b5b\",\"#91e8e1\"]},\"conf_opts\":{\"global\":{\"Date\":null,\"VMLRadialGradientURL\":\"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png\",\"canvasToolsURL\":\"http =//code.highcharts.com/list(version)/modules/canvas-tools.js\",\"getTimezoneOffset\":null,\"timezoneOffset\":0,\"useUTC\":true},\"lang\":{\"contextButtonTitle\":\"Chart context menu\",\"decimalPoint\":\".\",\"downloadCSV\":\"Download CSV\",\"downloadJPEG\":\"Download JPEG image\",\"downloadPDF\":\"Download PDF document\",\"downloadPNG\":\"Download PNG image\",\"downloadSVG\":\"Download SVG vector image\",\"downloadXLS\":\"Download XLS\",\"drillUpText\":\"◁ Back to {series.name}\",\"exitFullscreen\":\"Exit from full screen\",\"exportData\":{\"annotationHeader\":\"Annotations\",\"categoryDatetimeHeader\":\"DateTime\",\"categoryHeader\":\"Category\"},\"hideData\":\"Hide data table\",\"invalidDate\":null,\"loading\":\"Loading...\",\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"noData\":\"No data to display\",\"numericSymbolMagnitude\":1000,\"numericSymbols\":[\"k\",\"M\",\"G\",\"T\",\"P\",\"E\"],\"printChart\":\"Print chart\",\"resetZoom\":\"Reset zoom\",\"resetZoomTitle\":\"Reset zoom level 1:1\",\"shortMonths\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"shortWeekdays\":[\"Sat\",\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\"],\"thousandsSep\":\" \",\"viewData\":\"View data table\",\"viewFullscreen\":\"View in full screen\",\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]}},\"type\":\"chart\",\"fonts\":[],\"debug\":false},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_duration_success <- df |>\n    mutate(\n        year_launch = lubridate::year(launched),\n        state_binary = factor(state_binary, levels = c(0, 1), labels = c(\"Failed\", \"Success\"))\n    ) |>\n        group_by(duration, state_binary) |>\n        summarise(n_proj = n()) |>\n        arrange(desc(n_proj))|> \n        highcharter::hchart('column', hcaes(x = duration, y = n_proj, group = state_binary),\n    stacking = 'normal'\n    ) |>\n        hc_colors(c(\"rgb(155, 20, 20)\", \"rgba(8, 160, 31, 0.5)\")) |>\n        hc_title(text = \"Nombre de projets Failed & Succed par durée\") |>\n        hc_xAxis(title = list(text = \"Durée (jours)\")) |>\n        hc_yAxis(title = list(text = \"nombre projet\")) \n \nplot_duration_success\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-0a5a881a80eb12d042a4\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-0a5a881a80eb12d042a4\">{\"x\":{\"hc_opts\":{\"chart\":{\"reflow\":true},\"title\":{\"text\":\"Nombre de projets Failed & Succed par durée\"},\"yAxis\":{\"title\":{\"text\":\"nombre projet\"},\"type\":\"linear\"},\"credits\":{\"enabled\":false},\"exporting\":{\"enabled\":false},\"boost\":{\"enabled\":false},\"plotOptions\":{\"series\":{\"label\":{\"enabled\":false},\"turboThreshold\":0,\"showInLegend\":true},\"treemap\":{\"layoutAlgorithm\":\"squarified\"},\"scatter\":{\"marker\":{\"symbol\":\"circle\"}}},\"series\":[{\"name\":\"Failed\",\"data\":[{\"duration\":30,\"state_binary\":\"Failed\",\"n_proj\":97060,\"x\":30,\"y\":97060},{\"duration\":60,\"state_binary\":\"Failed\",\"n_proj\":22372,\"x\":60,\"y\":22372},{\"duration\":45,\"state_binary\":\"Failed\",\"n_proj\":10636,\"x\":45,\"y\":10636},{\"duration\":40,\"state_binary\":\"Failed\",\"n_proj\":5514,\"x\":40,\"y\":5514},{\"duration\":31,\"state_binary\":\"Failed\",\"n_proj\":5105,\"x\":31,\"y\":5105},{\"duration\":35,\"state_binary\":\"Failed\",\"n_proj\":5072,\"x\":35,\"y\":5072},{\"duration\":20,\"state_binary\":\"Failed\",\"n_proj\":3290,\"x\":20,\"y\":3290},{\"duration\":25,\"state_binary\":\"Failed\",\"n_proj\":2918,\"x\":25,\"y\":2918},{\"duration\":32,\"state_binary\":\"Failed\",\"n_proj\":2770,\"x\":32,\"y\":2770},{\"duration\":21,\"state_binary\":\"Failed\",\"n_proj\":2543,\"x\":21,\"y\":2543},{\"duration\":33,\"state_binary\":\"Failed\",\"n_proj\":2504,\"x\":33,\"y\":2504},{\"duration\":15,\"state_binary\":\"Failed\",\"n_proj\":2499,\"x\":15,\"y\":2499},{\"duration\":28,\"state_binary\":\"Failed\",\"n_proj\":2439,\"x\":28,\"y\":2439},{\"duration\":29,\"state_binary\":\"Failed\",\"n_proj\":2397,\"x\":29,\"y\":2397},{\"duration\":14,\"state_binary\":\"Failed\",\"n_proj\":1713,\"x\":14,\"y\":1713},{\"duration\":50,\"state_binary\":\"Failed\",\"n_proj\":1551,\"x\":50,\"y\":1551},{\"duration\":34,\"state_binary\":\"Failed\",\"n_proj\":1441,\"x\":34,\"y\":1441},{\"duration\":36,\"state_binary\":\"Failed\",\"n_proj\":1402,\"x\":36,\"y\":1402},{\"duration\":59,\"state_binary\":\"Failed\",\"n_proj\":1278,\"x\":59,\"y\":1278},{\"duration\":27,\"state_binary\":\"Failed\",\"n_proj\":1273,\"x\":27,\"y\":1273},{\"duration\":37,\"state_binary\":\"Failed\",\"n_proj\":1135,\"x\":37,\"y\":1135},{\"duration\":10,\"state_binary\":\"Failed\",\"n_proj\":1049,\"x\":10,\"y\":1049},{\"duration\":38,\"state_binary\":\"Failed\",\"n_proj\":1048,\"x\":38,\"y\":1048},{\"duration\":26,\"state_binary\":\"Failed\",\"n_proj\":1038,\"x\":26,\"y\":1038},{\"duration\":90,\"state_binary\":\"Failed\",\"n_proj\":1020,\"x\":90,\"y\":1020},{\"duration\":42,\"state_binary\":\"Failed\",\"n_proj\":993,\"x\":42,\"y\":993},{\"duration\":24,\"state_binary\":\"Failed\",\"n_proj\":978,\"x\":24,\"y\":978},{\"duration\":46,\"state_binary\":\"Failed\",\"n_proj\":940,\"x\":46,\"y\":940},{\"duration\":22,\"state_binary\":\"Failed\",\"n_proj\":900,\"x\":22,\"y\":900},{\"duration\":39,\"state_binary\":\"Failed\",\"n_proj\":863,\"x\":39,\"y\":863},{\"duration\":23,\"state_binary\":\"Failed\",\"n_proj\":843,\"x\":23,\"y\":843},{\"duration\":41,\"state_binary\":\"Failed\",\"n_proj\":836,\"x\":41,\"y\":836},{\"duration\":44,\"state_binary\":\"Failed\",\"n_proj\":741,\"x\":44,\"y\":741},{\"duration\":7,\"state_binary\":\"Failed\",\"n_proj\":646,\"x\":7,\"y\":646},{\"duration\":43,\"state_binary\":\"Failed\",\"n_proj\":644,\"x\":43,\"y\":644},{\"duration\":18,\"state_binary\":\"Failed\",\"n_proj\":633,\"x\":18,\"y\":633},{\"duration\":58,\"state_binary\":\"Failed\",\"n_proj\":597,\"x\":58,\"y\":597},{\"duration\":47,\"state_binary\":\"Failed\",\"n_proj\":566,\"x\":47,\"y\":566},{\"duration\":16,\"state_binary\":\"Failed\",\"n_proj\":557,\"x\":16,\"y\":557},{\"duration\":17,\"state_binary\":\"Failed\",\"n_proj\":541,\"x\":17,\"y\":541},{\"duration\":55,\"state_binary\":\"Failed\",\"n_proj\":535,\"x\":55,\"y\":535},{\"duration\":48,\"state_binary\":\"Failed\",\"n_proj\":528,\"x\":48,\"y\":528},{\"duration\":19,\"state_binary\":\"Failed\",\"n_proj\":493,\"x\":19,\"y\":493},{\"duration\":57,\"state_binary\":\"Failed\",\"n_proj\":478,\"x\":57,\"y\":478},{\"duration\":51,\"state_binary\":\"Failed\",\"n_proj\":474,\"x\":51,\"y\":474},{\"duration\":49,\"state_binary\":\"Failed\",\"n_proj\":463,\"x\":49,\"y\":463},{\"duration\":56,\"state_binary\":\"Failed\",\"n_proj\":457,\"x\":56,\"y\":457},{\"duration\":52,\"state_binary\":\"Failed\",\"n_proj\":432,\"x\":52,\"y\":432},{\"duration\":12,\"state_binary\":\"Failed\",\"n_proj\":380,\"x\":12,\"y\":380},{\"duration\":53,\"state_binary\":\"Failed\",\"n_proj\":371,\"x\":53,\"y\":371},{\"duration\":54,\"state_binary\":\"Failed\",\"n_proj\":363,\"x\":54,\"y\":363},{\"duration\":61,\"state_binary\":\"Failed\",\"n_proj\":356,\"x\":61,\"y\":356},{\"duration\":91,\"state_binary\":\"Failed\",\"n_proj\":333,\"x\":91,\"y\":333},{\"duration\":13,\"state_binary\":\"Failed\",\"n_proj\":327,\"x\":13,\"y\":327},{\"duration\":11,\"state_binary\":\"Failed\",\"n_proj\":267,\"x\":11,\"y\":267},{\"duration\":5,\"state_binary\":\"Failed\",\"n_proj\":245,\"x\":5,\"y\":245},{\"duration\":8,\"state_binary\":\"Failed\",\"n_proj\":245,\"x\":8,\"y\":245},{\"duration\":89,\"state_binary\":\"Failed\",\"n_proj\":202,\"x\":89,\"y\":202},{\"duration\":9,\"state_binary\":\"Failed\",\"n_proj\":200,\"x\":9,\"y\":200},{\"duration\":6,\"state_binary\":\"Failed\",\"n_proj\":148,\"x\":6,\"y\":148},{\"duration\":3,\"state_binary\":\"Failed\",\"n_proj\":129,\"x\":3,\"y\":129},{\"duration\":62,\"state_binary\":\"Failed\",\"n_proj\":114,\"x\":62,\"y\":114},{\"duration\":4,\"state_binary\":\"Failed\",\"n_proj\":109,\"x\":4,\"y\":109},{\"duration\":2,\"state_binary\":\"Failed\",\"n_proj\":101,\"x\":2,\"y\":101},{\"duration\":70,\"state_binary\":\"Failed\",\"n_proj\":67,\"x\":70,\"y\":67},{\"duration\":63,\"state_binary\":\"Failed\",\"n_proj\":62,\"x\":63,\"y\":62},{\"duration\":66,\"state_binary\":\"Failed\",\"n_proj\":62,\"x\":66,\"y\":62},{\"duration\":75,\"state_binary\":\"Failed\",\"n_proj\":62,\"x\":75,\"y\":62},{\"duration\":65,\"state_binary\":\"Failed\",\"n_proj\":58,\"x\":65,\"y\":58},{\"duration\":1,\"state_binary\":\"Failed\",\"n_proj\":56,\"x\":1,\"y\":56},{\"duration\":88,\"state_binary\":\"Failed\",\"n_proj\":52,\"x\":88,\"y\":52},{\"duration\":76,\"state_binary\":\"Failed\",\"n_proj\":45,\"x\":76,\"y\":45},{\"duration\":64,\"state_binary\":\"Failed\",\"n_proj\":41,\"x\":64,\"y\":41},{\"duration\":86,\"state_binary\":\"Failed\",\"n_proj\":41,\"x\":86,\"y\":41},{\"duration\":80,\"state_binary\":\"Failed\",\"n_proj\":39,\"x\":80,\"y\":39},{\"duration\":71,\"state_binary\":\"Failed\",\"n_proj\":38,\"x\":71,\"y\":38},{\"duration\":68,\"state_binary\":\"Failed\",\"n_proj\":35,\"x\":68,\"y\":35},{\"duration\":85,\"state_binary\":\"Failed\",\"n_proj\":35,\"x\":85,\"y\":35},{\"duration\":72,\"state_binary\":\"Failed\",\"n_proj\":34,\"x\":72,\"y\":34},{\"duration\":84,\"state_binary\":\"Failed\",\"n_proj\":33,\"x\":84,\"y\":33},{\"duration\":87,\"state_binary\":\"Failed\",\"n_proj\":33,\"x\":87,\"y\":33},{\"duration\":77,\"state_binary\":\"Failed\",\"n_proj\":32,\"x\":77,\"y\":32},{\"duration\":82,\"state_binary\":\"Failed\",\"n_proj\":32,\"x\":82,\"y\":32},{\"duration\":67,\"state_binary\":\"Failed\",\"n_proj\":31,\"x\":67,\"y\":31},{\"duration\":69,\"state_binary\":\"Failed\",\"n_proj\":29,\"x\":69,\"y\":29},{\"duration\":73,\"state_binary\":\"Failed\",\"n_proj\":28,\"x\":73,\"y\":28},{\"duration\":83,\"state_binary\":\"Failed\",\"n_proj\":28,\"x\":83,\"y\":28},{\"duration\":81,\"state_binary\":\"Failed\",\"n_proj\":27,\"x\":81,\"y\":27},{\"duration\":74,\"state_binary\":\"Failed\",\"n_proj\":22,\"x\":74,\"y\":22},{\"duration\":78,\"state_binary\":\"Failed\",\"n_proj\":21,\"x\":78,\"y\":21},{\"duration\":79,\"state_binary\":\"Failed\",\"n_proj\":18,\"x\":79,\"y\":18},{\"duration\":92,\"state_binary\":\"Failed\",\"n_proj\":13,\"x\":92,\"y\":13}],\"type\":\"column\",\"stacking\":\"normal\"},{\"name\":\"Success\",\"data\":[{\"duration\":30,\"state_binary\":\"Success\",\"n_proj\":45470,\"x\":30,\"y\":45470},{\"duration\":60,\"state_binary\":\"Success\",\"n_proj\":5352,\"x\":60,\"y\":5352},{\"duration\":31,\"state_binary\":\"Success\",\"n_proj\":4980,\"x\":31,\"y\":4980},{\"duration\":45,\"state_binary\":\"Success\",\"n_proj\":4323,\"x\":45,\"y\":4323},{\"duration\":35,\"state_binary\":\"Success\",\"n_proj\":3258,\"x\":35,\"y\":3258},{\"duration\":21,\"state_binary\":\"Success\",\"n_proj\":3040,\"x\":21,\"y\":3040},{\"duration\":40,\"state_binary\":\"Success\",\"n_proj\":2870,\"x\":40,\"y\":2870},{\"duration\":32,\"state_binary\":\"Success\",\"n_proj\":2836,\"x\":32,\"y\":2836},{\"duration\":20,\"state_binary\":\"Success\",\"n_proj\":2361,\"x\":20,\"y\":2361},{\"duration\":28,\"state_binary\":\"Success\",\"n_proj\":2326,\"x\":28,\"y\":2326},{\"duration\":25,\"state_binary\":\"Success\",\"n_proj\":2250,\"x\":25,\"y\":2250},{\"duration\":29,\"state_binary\":\"Success\",\"n_proj\":2175,\"x\":29,\"y\":2175},{\"duration\":33,\"state_binary\":\"Success\",\"n_proj\":2166,\"x\":33,\"y\":2166},{\"duration\":15,\"state_binary\":\"Success\",\"n_proj\":1838,\"x\":15,\"y\":1838},{\"duration\":14,\"state_binary\":\"Success\",\"n_proj\":1759,\"x\":14,\"y\":1759},{\"duration\":34,\"state_binary\":\"Success\",\"n_proj\":1378,\"x\":34,\"y\":1378},{\"duration\":36,\"state_binary\":\"Success\",\"n_proj\":1235,\"x\":36,\"y\":1235},{\"duration\":22,\"state_binary\":\"Success\",\"n_proj\":1214,\"x\":22,\"y\":1214},{\"duration\":27,\"state_binary\":\"Success\",\"n_proj\":1200,\"x\":27,\"y\":1200},{\"duration\":26,\"state_binary\":\"Success\",\"n_proj\":1144,\"x\":26,\"y\":1144},{\"duration\":24,\"state_binary\":\"Success\",\"n_proj\":1120,\"x\":24,\"y\":1120},{\"duration\":23,\"state_binary\":\"Success\",\"n_proj\":1011,\"x\":23,\"y\":1011},{\"duration\":37,\"state_binary\":\"Success\",\"n_proj\":967,\"x\":37,\"y\":967},{\"duration\":10,\"state_binary\":\"Success\",\"n_proj\":833,\"x\":10,\"y\":833},{\"duration\":18,\"state_binary\":\"Success\",\"n_proj\":764,\"x\":18,\"y\":764},{\"duration\":16,\"state_binary\":\"Success\",\"n_proj\":745,\"x\":16,\"y\":745},{\"duration\":38,\"state_binary\":\"Success\",\"n_proj\":730,\"x\":38,\"y\":730},{\"duration\":46,\"state_binary\":\"Success\",\"n_proj\":715,\"x\":46,\"y\":715},{\"duration\":42,\"state_binary\":\"Success\",\"n_proj\":705,\"x\":42,\"y\":705},{\"duration\":39,\"state_binary\":\"Success\",\"n_proj\":681,\"x\":39,\"y\":681},{\"duration\":17,\"state_binary\":\"Success\",\"n_proj\":671,\"x\":17,\"y\":671},{\"duration\":41,\"state_binary\":\"Success\",\"n_proj\":642,\"x\":41,\"y\":642},{\"duration\":50,\"state_binary\":\"Success\",\"n_proj\":629,\"x\":50,\"y\":629},{\"duration\":19,\"state_binary\":\"Success\",\"n_proj\":620,\"x\":19,\"y\":620},{\"duration\":44,\"state_binary\":\"Success\",\"n_proj\":540,\"x\":44,\"y\":540},{\"duration\":7,\"state_binary\":\"Success\",\"n_proj\":519,\"x\":7,\"y\":519},{\"duration\":43,\"state_binary\":\"Success\",\"n_proj\":510,\"x\":43,\"y\":510},{\"duration\":59,\"state_binary\":\"Success\",\"n_proj\":444,\"x\":59,\"y\":444},{\"duration\":47,\"state_binary\":\"Success\",\"n_proj\":415,\"x\":47,\"y\":415},{\"duration\":13,\"state_binary\":\"Success\",\"n_proj\":400,\"x\":13,\"y\":400},{\"duration\":12,\"state_binary\":\"Success\",\"n_proj\":398,\"x\":12,\"y\":398},{\"duration\":90,\"state_binary\":\"Success\",\"n_proj\":355,\"x\":90,\"y\":355},{\"duration\":11,\"state_binary\":\"Success\",\"n_proj\":352,\"x\":11,\"y\":352},{\"duration\":49,\"state_binary\":\"Success\",\"n_proj\":300,\"x\":49,\"y\":300},{\"duration\":48,\"state_binary\":\"Success\",\"n_proj\":281,\"x\":48,\"y\":281},{\"duration\":9,\"state_binary\":\"Success\",\"n_proj\":262,\"x\":9,\"y\":262},{\"duration\":51,\"state_binary\":\"Success\",\"n_proj\":258,\"x\":51,\"y\":258},{\"duration\":8,\"state_binary\":\"Success\",\"n_proj\":246,\"x\":8,\"y\":246},{\"duration\":55,\"state_binary\":\"Success\",\"n_proj\":246,\"x\":55,\"y\":246},{\"duration\":61,\"state_binary\":\"Success\",\"n_proj\":246,\"x\":61,\"y\":246},{\"duration\":58,\"state_binary\":\"Success\",\"n_proj\":212,\"x\":58,\"y\":212},{\"duration\":52,\"state_binary\":\"Success\",\"n_proj\":210,\"x\":52,\"y\":210},{\"duration\":53,\"state_binary\":\"Success\",\"n_proj\":196,\"x\":53,\"y\":196},{\"duration\":54,\"state_binary\":\"Success\",\"n_proj\":185,\"x\":54,\"y\":185},{\"duration\":56,\"state_binary\":\"Success\",\"n_proj\":181,\"x\":56,\"y\":181},{\"duration\":57,\"state_binary\":\"Success\",\"n_proj\":178,\"x\":57,\"y\":178},{\"duration\":5,\"state_binary\":\"Success\",\"n_proj\":173,\"x\":5,\"y\":173},{\"duration\":91,\"state_binary\":\"Success\",\"n_proj\":136,\"x\":91,\"y\":136},{\"duration\":89,\"state_binary\":\"Success\",\"n_proj\":114,\"x\":89,\"y\":114},{\"duration\":6,\"state_binary\":\"Success\",\"n_proj\":109,\"x\":6,\"y\":109},{\"duration\":62,\"state_binary\":\"Success\",\"n_proj\":89,\"x\":62,\"y\":89},{\"duration\":3,\"state_binary\":\"Success\",\"n_proj\":65,\"x\":3,\"y\":65},{\"duration\":4,\"state_binary\":\"Success\",\"n_proj\":63,\"x\":4,\"y\":63},{\"duration\":63,\"state_binary\":\"Success\",\"n_proj\":50,\"x\":63,\"y\":50},{\"duration\":66,\"state_binary\":\"Success\",\"n_proj\":48,\"x\":66,\"y\":48},{\"duration\":70,\"state_binary\":\"Success\",\"n_proj\":44,\"x\":70,\"y\":44},{\"duration\":65,\"state_binary\":\"Success\",\"n_proj\":43,\"x\":65,\"y\":43},{\"duration\":2,\"state_binary\":\"Success\",\"n_proj\":40,\"x\":2,\"y\":40},{\"duration\":71,\"state_binary\":\"Success\",\"n_proj\":38,\"x\":71,\"y\":38},{\"duration\":75,\"state_binary\":\"Success\",\"n_proj\":32,\"x\":75,\"y\":32},{\"duration\":64,\"state_binary\":\"Success\",\"n_proj\":30,\"x\":64,\"y\":30},{\"duration\":80,\"state_binary\":\"Success\",\"n_proj\":29,\"x\":80,\"y\":29},{\"duration\":67,\"state_binary\":\"Success\",\"n_proj\":28,\"x\":67,\"y\":28},{\"duration\":72,\"state_binary\":\"Success\",\"n_proj\":27,\"x\":72,\"y\":27},{\"duration\":1,\"state_binary\":\"Success\",\"n_proj\":26,\"x\":1,\"y\":26},{\"duration\":76,\"state_binary\":\"Success\",\"n_proj\":26,\"x\":76,\"y\":26},{\"duration\":69,\"state_binary\":\"Success\",\"n_proj\":25,\"x\":69,\"y\":25},{\"duration\":68,\"state_binary\":\"Success\",\"n_proj\":24,\"x\":68,\"y\":24},{\"duration\":88,\"state_binary\":\"Success\",\"n_proj\":23,\"x\":88,\"y\":23},{\"duration\":84,\"state_binary\":\"Success\",\"n_proj\":22,\"x\":84,\"y\":22},{\"duration\":73,\"state_binary\":\"Success\",\"n_proj\":20,\"x\":73,\"y\":20},{\"duration\":86,\"state_binary\":\"Success\",\"n_proj\":17,\"x\":86,\"y\":17},{\"duration\":87,\"state_binary\":\"Success\",\"n_proj\":16,\"x\":87,\"y\":16},{\"duration\":78,\"state_binary\":\"Success\",\"n_proj\":15,\"x\":78,\"y\":15},{\"duration\":82,\"state_binary\":\"Success\",\"n_proj\":15,\"x\":82,\"y\":15},{\"duration\":74,\"state_binary\":\"Success\",\"n_proj\":13,\"x\":74,\"y\":13},{\"duration\":77,\"state_binary\":\"Success\",\"n_proj\":13,\"x\":77,\"y\":13},{\"duration\":81,\"state_binary\":\"Success\",\"n_proj\":13,\"x\":81,\"y\":13},{\"duration\":79,\"state_binary\":\"Success\",\"n_proj\":10,\"x\":79,\"y\":10},{\"duration\":85,\"state_binary\":\"Success\",\"n_proj\":10,\"x\":85,\"y\":10},{\"duration\":83,\"state_binary\":\"Success\",\"n_proj\":8,\"x\":83,\"y\":8},{\"duration\":92,\"state_binary\":\"Success\",\"n_proj\":4,\"x\":92,\"y\":4}],\"type\":\"column\",\"stacking\":\"normal\"}],\"xAxis\":{\"type\":\"linear\",\"title\":{\"text\":\"Durée (jours)\"}},\"colors\":[\"rgb(155, 20, 20)\",\"rgba(8, 160, 31, 0.5)\"]},\"theme\":{\"chart\":{\"backgroundColor\":\"transparent\"},\"colors\":[\"#7cb5ec\",\"#434348\",\"#90ed7d\",\"#f7a35c\",\"#8085e9\",\"#f15c80\",\"#e4d354\",\"#2b908f\",\"#f45b5b\",\"#91e8e1\"]},\"conf_opts\":{\"global\":{\"Date\":null,\"VMLRadialGradientURL\":\"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png\",\"canvasToolsURL\":\"http =//code.highcharts.com/list(version)/modules/canvas-tools.js\",\"getTimezoneOffset\":null,\"timezoneOffset\":0,\"useUTC\":true},\"lang\":{\"contextButtonTitle\":\"Chart context menu\",\"decimalPoint\":\".\",\"downloadCSV\":\"Download CSV\",\"downloadJPEG\":\"Download JPEG image\",\"downloadPDF\":\"Download PDF document\",\"downloadPNG\":\"Download PNG image\",\"downloadSVG\":\"Download SVG vector image\",\"downloadXLS\":\"Download XLS\",\"drillUpText\":\"◁ Back to {series.name}\",\"exitFullscreen\":\"Exit from full screen\",\"exportData\":{\"annotationHeader\":\"Annotations\",\"categoryDatetimeHeader\":\"DateTime\",\"categoryHeader\":\"Category\"},\"hideData\":\"Hide data table\",\"invalidDate\":null,\"loading\":\"Loading...\",\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"noData\":\"No data to display\",\"numericSymbolMagnitude\":1000,\"numericSymbols\":[\"k\",\"M\",\"G\",\"T\",\"P\",\"E\"],\"printChart\":\"Print chart\",\"resetZoom\":\"Reset zoom\",\"resetZoomTitle\":\"Reset zoom level 1:1\",\"shortMonths\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"shortWeekdays\":[\"Sat\",\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\"],\"thousandsSep\":\" \",\"viewData\":\"View data table\",\"viewFullscreen\":\"View in full screen\",\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]}},\"type\":\"chart\",\"fonts\":[],\"debug\":false},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_country_success <- df |>\n    mutate(\n        year_launch = lubridate::year(launched),\n        state_binary = factor(state_binary, levels = c(0, 1), labels = c(\"Failed\", \"Success\"))\n    ) |>\n        group_by(country, state_binary) |>\n        summarise(n_proj = n()) |>\n        arrange(desc(n_proj))|> \n        highcharter::hchart('column', hcaes(x = country, y = n_proj, group = state_binary),\n    stacking = 'normal'\n    ) |>\n        hc_colors(c(\"rgb(155, 20, 20)\", \"rgba(8, 160, 31, 0.5)\")) |>\n        hc_title(text = \"Nombre de projets Failed & Succed par pays\") |>\n        hc_xAxis(title = list(text = \"Pays\")) |>\n        hc_yAxis(title = list(text = \"nombre projet\")) \n \nplot_country_success\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-e8a9bc41d9db4fbfb16c\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e8a9bc41d9db4fbfb16c\">{\"x\":{\"hc_opts\":{\"chart\":{\"reflow\":true},\"title\":{\"text\":\"Nombre de projets Failed & Succed par pays\"},\"yAxis\":{\"title\":{\"text\":\"nombre projet\"},\"type\":\"linear\"},\"credits\":{\"enabled\":false},\"exporting\":{\"enabled\":false},\"boost\":{\"enabled\":false},\"plotOptions\":{\"series\":{\"label\":{\"enabled\":false},\"turboThreshold\":0,\"showInLegend\":true},\"treemap\":{\"layoutAlgorithm\":\"squarified\"},\"scatter\":{\"marker\":{\"symbol\":\"circle\"}}},\"series\":[{\"name\":\"Failed\",\"data\":[{\"country\":\"US\",\"state_binary\":\"Failed\",\"n_proj\":158332,\"y\":158332,\"name\":\"US\"},{\"country\":\"GB\",\"state_binary\":\"Failed\",\"n_proj\":17738,\"y\":17738,\"name\":\"GB\"},{\"country\":\"CA\",\"state_binary\":\"Failed\",\"n_proj\":8692,\"y\":8692,\"name\":\"CA\"},{\"country\":\"AU\",\"state_binary\":\"Failed\",\"n_proj\":4662,\"y\":4662,\"name\":\"AU\"},{\"country\":\"DE\",\"state_binary\":\"Failed\",\"n_proj\":2037,\"y\":2037,\"name\":\"DE\"},{\"country\":\"NL\",\"state_binary\":\"Failed\",\"n_proj\":1802,\"y\":1802,\"name\":\"NL\"},{\"country\":\"IT\",\"state_binary\":\"Failed\",\"n_proj\":1411,\"y\":1411,\"name\":\"IT\"},{\"country\":\"FR\",\"state_binary\":\"Failed\",\"n_proj\":1292,\"y\":1292,\"name\":\"FR\"},{\"country\":\"ES\",\"state_binary\":\"Failed\",\"n_proj\":1046,\"y\":1046,\"name\":\"ES\"},{\"country\":\"SE\",\"state_binary\":\"Failed\",\"n_proj\":894,\"y\":894,\"name\":\"SE\"},{\"country\":\"NZ\",\"state_binary\":\"Failed\",\"n_proj\":788,\"y\":788,\"name\":\"NZ\"},{\"country\":\"DK\",\"state_binary\":\"Failed\",\"n_proj\":563,\"y\":563,\"name\":\"DK\"},{\"country\":\"IE\",\"state_binary\":\"Failed\",\"n_proj\":423,\"y\":423,\"name\":\"IE\"},{\"country\":\"NO\",\"state_binary\":\"Failed\",\"n_proj\":402,\"y\":402,\"name\":\"NO\"},{\"country\":\"CH\",\"state_binary\":\"Failed\",\"n_proj\":355,\"y\":355,\"name\":\"CH\"},{\"country\":\"BE\",\"state_binary\":\"Failed\",\"n_proj\":305,\"y\":305,\"name\":\"BE\"},{\"country\":\"AT\",\"state_binary\":\"Failed\",\"n_proj\":291,\"y\":291,\"name\":\"AT\"},{\"country\":\"HK\",\"state_binary\":\"Failed\",\"n_proj\":51,\"y\":51,\"name\":\"HK\"},{\"country\":\"SG\",\"state_binary\":\"Failed\",\"n_proj\":49,\"y\":49,\"name\":\"SG\"},{\"country\":\"LU\",\"state_binary\":\"Failed\",\"n_proj\":22,\"y\":22,\"name\":\"LU\"},{\"country\":\"MX\",\"state_binary\":\"Failed\",\"n_proj\":14,\"y\":14,\"name\":\"MX\"}],\"type\":\"column\",\"stacking\":\"normal\"},{\"name\":\"Success\",\"data\":[{\"country\":\"US\",\"state_binary\":\"Success\",\"n_proj\":95194,\"y\":95194,\"name\":\"US\"},{\"country\":\"GB\",\"state_binary\":\"Success\",\"n_proj\":9340,\"y\":9340,\"name\":\"GB\"},{\"country\":\"CA\",\"state_binary\":\"Success\",\"n_proj\":3067,\"y\":3067,\"name\":\"CA\"},{\"country\":\"AU\",\"state_binary\":\"Success\",\"n_proj\":1450,\"y\":1450,\"name\":\"AU\"},{\"country\":\"DE\",\"state_binary\":\"Success\",\"n_proj\":530,\"y\":530,\"name\":\"DE\"},{\"country\":\"FR\",\"state_binary\":\"Success\",\"n_proj\":512,\"y\":512,\"name\":\"FR\"},{\"country\":\"NL\",\"state_binary\":\"Success\",\"n_proj\":410,\"y\":410,\"name\":\"NL\"},{\"country\":\"SE\",\"state_binary\":\"Success\",\"n_proj\":335,\"y\":335,\"name\":\"SE\"},{\"country\":\"NZ\",\"state_binary\":\"Success\",\"n_proj\":330,\"y\":330,\"name\":\"NZ\"},{\"country\":\"ES\",\"state_binary\":\"Success\",\"n_proj\":242,\"y\":242,\"name\":\"ES\"},{\"country\":\"IT\",\"state_binary\":\"Success\",\"n_proj\":232,\"y\":232,\"name\":\"IT\"},{\"country\":\"DK\",\"state_binary\":\"Success\",\"n_proj\":231,\"y\":231,\"name\":\"DK\"},{\"country\":\"IE\",\"state_binary\":\"Success\",\"n_proj\":133,\"y\":133,\"name\":\"IE\"},{\"country\":\"NO\",\"state_binary\":\"Success\",\"n_proj\":108,\"y\":108,\"name\":\"NO\"},{\"country\":\"CH\",\"state_binary\":\"Success\",\"n_proj\":86,\"y\":86,\"name\":\"CH\"},{\"country\":\"BE\",\"state_binary\":\"Success\",\"n_proj\":79,\"y\":79,\"name\":\"BE\"},{\"country\":\"AT\",\"state_binary\":\"Success\",\"n_proj\":60,\"y\":60,\"name\":\"AT\"},{\"country\":\"SG\",\"state_binary\":\"Success\",\"n_proj\":32,\"y\":32,\"name\":\"SG\"},{\"country\":\"HK\",\"state_binary\":\"Success\",\"n_proj\":14,\"y\":14,\"name\":\"HK\"},{\"country\":\"LU\",\"state_binary\":\"Success\",\"n_proj\":13,\"y\":13,\"name\":\"LU\"},{\"country\":\"MX\",\"state_binary\":\"Success\",\"n_proj\":2,\"y\":2,\"name\":\"MX\"}],\"type\":\"column\",\"stacking\":\"normal\"}],\"xAxis\":{\"type\":\"category\",\"title\":{\"text\":\"Pays\"}},\"colors\":[\"rgb(155, 20, 20)\",\"rgba(8, 160, 31, 0.5)\"]},\"theme\":{\"chart\":{\"backgroundColor\":\"transparent\"},\"colors\":[\"#7cb5ec\",\"#434348\",\"#90ed7d\",\"#f7a35c\",\"#8085e9\",\"#f15c80\",\"#e4d354\",\"#2b908f\",\"#f45b5b\",\"#91e8e1\"]},\"conf_opts\":{\"global\":{\"Date\":null,\"VMLRadialGradientURL\":\"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png\",\"canvasToolsURL\":\"http =//code.highcharts.com/list(version)/modules/canvas-tools.js\",\"getTimezoneOffset\":null,\"timezoneOffset\":0,\"useUTC\":true},\"lang\":{\"contextButtonTitle\":\"Chart context menu\",\"decimalPoint\":\".\",\"downloadCSV\":\"Download CSV\",\"downloadJPEG\":\"Download JPEG image\",\"downloadPDF\":\"Download PDF document\",\"downloadPNG\":\"Download PNG image\",\"downloadSVG\":\"Download SVG vector image\",\"downloadXLS\":\"Download XLS\",\"drillUpText\":\"◁ Back to {series.name}\",\"exitFullscreen\":\"Exit from full screen\",\"exportData\":{\"annotationHeader\":\"Annotations\",\"categoryDatetimeHeader\":\"DateTime\",\"categoryHeader\":\"Category\"},\"hideData\":\"Hide data table\",\"invalidDate\":null,\"loading\":\"Loading...\",\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"noData\":\"No data to display\",\"numericSymbolMagnitude\":1000,\"numericSymbols\":[\"k\",\"M\",\"G\",\"T\",\"P\",\"E\"],\"printChart\":\"Print chart\",\"resetZoom\":\"Reset zoom\",\"resetZoomTitle\":\"Reset zoom level 1:1\",\"shortMonths\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"shortWeekdays\":[\"Sat\",\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\"],\"thousandsSep\":\" \",\"viewData\":\"View data table\",\"viewFullscreen\":\"View in full screen\",\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]}},\"type\":\"chart\",\"fonts\":[],\"debug\":false},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_country_success_perc <- df |>\n    mutate(\n        year_launch = lubridate::year(launched),\n        state_binary = factor(state_binary, levels = c(0, 1), labels = c(\"Failed\", \"Success\"))\n    ) |>\n        group_by(country, state_binary) |>\n        summarise(n_proj = n()) |>\n        arrange(desc(n_proj))|> \n        ungroup() |>\n        group_by(country) |>\n        mutate(\n            total_proj = sum(n_proj),\n            perc = n_proj / total_proj * 100\n        ) |>\n            highcharter::hchart('column', hcaes(x = country, y = perc, group = state_binary),\n    stacking = 'normal'\n    ) |>\n        hc_colors(c(\"rgb(155, 20, 20)\", \"rgba(8, 160, 31, 0.5)\")) |>\n        hc_title(text = \"Nombre de projets Failed & Succed par Pays (en %)\") |>\n        hc_xAxis(title = list(text = \"Pays\")) |>\n        hc_yAxis(title = list(text = \"\")) \n \nplot_country_success_perc\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"highchart html-widget html-fill-item\" id=\"htmlwidget-03fd3aaad70ff568512c\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-03fd3aaad70ff568512c\">{\"x\":{\"hc_opts\":{\"chart\":{\"reflow\":true},\"title\":{\"text\":\"Nombre de projets Failed & Succed par Pays (en %)\"},\"yAxis\":{\"title\":{\"text\":\"\"},\"type\":\"linear\"},\"credits\":{\"enabled\":false},\"exporting\":{\"enabled\":false},\"boost\":{\"enabled\":false},\"plotOptions\":{\"series\":{\"label\":{\"enabled\":false},\"turboThreshold\":0,\"showInLegend\":true},\"treemap\":{\"layoutAlgorithm\":\"squarified\"},\"scatter\":{\"marker\":{\"symbol\":\"circle\"}}},\"series\":[{\"name\":\"Failed\",\"data\":[{\"country\":\"US\",\"state_binary\":\"Failed\",\"n_proj\":158332,\"total_proj\":253526,\"perc\":62.45197731199167,\"y\":62.45197731199167,\"name\":\"US\"},{\"country\":\"GB\",\"state_binary\":\"Failed\",\"n_proj\":17738,\"total_proj\":27078,\"perc\":65.50705369672797,\"y\":65.50705369672797,\"name\":\"GB\"},{\"country\":\"CA\",\"state_binary\":\"Failed\",\"n_proj\":8692,\"total_proj\":11759,\"perc\":73.9178501573263,\"y\":73.9178501573263,\"name\":\"CA\"},{\"country\":\"AU\",\"state_binary\":\"Failed\",\"n_proj\":4662,\"total_proj\":6112,\"perc\":76.27617801047121,\"y\":76.27617801047121,\"name\":\"AU\"},{\"country\":\"DE\",\"state_binary\":\"Failed\",\"n_proj\":2037,\"total_proj\":2567,\"perc\":79.35333073626801,\"y\":79.35333073626801,\"name\":\"DE\"},{\"country\":\"NL\",\"state_binary\":\"Failed\",\"n_proj\":1802,\"total_proj\":2212,\"perc\":81.46473779385171,\"y\":81.46473779385171,\"name\":\"NL\"},{\"country\":\"IT\",\"state_binary\":\"Failed\",\"n_proj\":1411,\"total_proj\":1643,\"perc\":85.87948874010955,\"y\":85.87948874010955,\"name\":\"IT\"},{\"country\":\"FR\",\"state_binary\":\"Failed\",\"n_proj\":1292,\"total_proj\":1804,\"perc\":71.61862527716187,\"y\":71.61862527716187,\"name\":\"FR\"},{\"country\":\"ES\",\"state_binary\":\"Failed\",\"n_proj\":1046,\"total_proj\":1288,\"perc\":81.2111801242236,\"y\":81.2111801242236,\"name\":\"ES\"},{\"country\":\"SE\",\"state_binary\":\"Failed\",\"n_proj\":894,\"total_proj\":1229,\"perc\":72.74206672091131,\"y\":72.74206672091131,\"name\":\"SE\"},{\"country\":\"NZ\",\"state_binary\":\"Failed\",\"n_proj\":788,\"total_proj\":1118,\"perc\":70.48300536672629,\"y\":70.48300536672629,\"name\":\"NZ\"},{\"country\":\"DK\",\"state_binary\":\"Failed\",\"n_proj\":563,\"total_proj\":794,\"perc\":70.90680100755668,\"y\":70.90680100755668,\"name\":\"DK\"},{\"country\":\"IE\",\"state_binary\":\"Failed\",\"n_proj\":423,\"total_proj\":556,\"perc\":76.07913669064749,\"y\":76.07913669064749,\"name\":\"IE\"},{\"country\":\"NO\",\"state_binary\":\"Failed\",\"n_proj\":402,\"total_proj\":510,\"perc\":78.82352941176471,\"y\":78.82352941176471,\"name\":\"NO\"},{\"country\":\"CH\",\"state_binary\":\"Failed\",\"n_proj\":355,\"total_proj\":441,\"perc\":80.49886621315193,\"y\":80.49886621315193,\"name\":\"CH\"},{\"country\":\"BE\",\"state_binary\":\"Failed\",\"n_proj\":305,\"total_proj\":384,\"perc\":79.42708333333334,\"y\":79.42708333333334,\"name\":\"BE\"},{\"country\":\"AT\",\"state_binary\":\"Failed\",\"n_proj\":291,\"total_proj\":351,\"perc\":82.90598290598291,\"y\":82.90598290598291,\"name\":\"AT\"},{\"country\":\"HK\",\"state_binary\":\"Failed\",\"n_proj\":51,\"total_proj\":65,\"perc\":78.46153846153847,\"y\":78.46153846153847,\"name\":\"HK\"},{\"country\":\"SG\",\"state_binary\":\"Failed\",\"n_proj\":49,\"total_proj\":81,\"perc\":60.49382716049383,\"y\":60.49382716049383,\"name\":\"SG\"},{\"country\":\"LU\",\"state_binary\":\"Failed\",\"n_proj\":22,\"total_proj\":35,\"perc\":62.85714285714285,\"y\":62.85714285714285,\"name\":\"LU\"},{\"country\":\"MX\",\"state_binary\":\"Failed\",\"n_proj\":14,\"total_proj\":16,\"perc\":87.5,\"y\":87.5,\"name\":\"MX\"}],\"type\":\"column\",\"stacking\":\"normal\"},{\"name\":\"Success\",\"data\":[{\"country\":\"US\",\"state_binary\":\"Success\",\"n_proj\":95194,\"total_proj\":253526,\"perc\":37.54802268800833,\"y\":37.54802268800833,\"name\":\"US\"},{\"country\":\"GB\",\"state_binary\":\"Success\",\"n_proj\":9340,\"total_proj\":27078,\"perc\":34.49294630327203,\"y\":34.49294630327203,\"name\":\"GB\"},{\"country\":\"CA\",\"state_binary\":\"Success\",\"n_proj\":3067,\"total_proj\":11759,\"perc\":26.0821498426737,\"y\":26.0821498426737,\"name\":\"CA\"},{\"country\":\"AU\",\"state_binary\":\"Success\",\"n_proj\":1450,\"total_proj\":6112,\"perc\":23.72382198952879,\"y\":23.72382198952879,\"name\":\"AU\"},{\"country\":\"DE\",\"state_binary\":\"Success\",\"n_proj\":530,\"total_proj\":2567,\"perc\":20.64666926373198,\"y\":20.64666926373198,\"name\":\"DE\"},{\"country\":\"FR\",\"state_binary\":\"Success\",\"n_proj\":512,\"total_proj\":1804,\"perc\":28.38137472283814,\"y\":28.38137472283814,\"name\":\"FR\"},{\"country\":\"NL\",\"state_binary\":\"Success\",\"n_proj\":410,\"total_proj\":2212,\"perc\":18.53526220614828,\"y\":18.53526220614828,\"name\":\"NL\"},{\"country\":\"SE\",\"state_binary\":\"Success\",\"n_proj\":335,\"total_proj\":1229,\"perc\":27.25793327908869,\"y\":27.25793327908869,\"name\":\"SE\"},{\"country\":\"NZ\",\"state_binary\":\"Success\",\"n_proj\":330,\"total_proj\":1118,\"perc\":29.5169946332737,\"y\":29.5169946332737,\"name\":\"NZ\"},{\"country\":\"ES\",\"state_binary\":\"Success\",\"n_proj\":242,\"total_proj\":1288,\"perc\":18.7888198757764,\"y\":18.7888198757764,\"name\":\"ES\"},{\"country\":\"IT\",\"state_binary\":\"Success\",\"n_proj\":232,\"total_proj\":1643,\"perc\":14.12051125989045,\"y\":14.12051125989045,\"name\":\"IT\"},{\"country\":\"DK\",\"state_binary\":\"Success\",\"n_proj\":231,\"total_proj\":794,\"perc\":29.09319899244333,\"y\":29.09319899244333,\"name\":\"DK\"},{\"country\":\"IE\",\"state_binary\":\"Success\",\"n_proj\":133,\"total_proj\":556,\"perc\":23.92086330935252,\"y\":23.92086330935252,\"name\":\"IE\"},{\"country\":\"NO\",\"state_binary\":\"Success\",\"n_proj\":108,\"total_proj\":510,\"perc\":21.17647058823529,\"y\":21.17647058823529,\"name\":\"NO\"},{\"country\":\"CH\",\"state_binary\":\"Success\",\"n_proj\":86,\"total_proj\":441,\"perc\":19.50113378684807,\"y\":19.50113378684807,\"name\":\"CH\"},{\"country\":\"BE\",\"state_binary\":\"Success\",\"n_proj\":79,\"total_proj\":384,\"perc\":20.57291666666666,\"y\":20.57291666666666,\"name\":\"BE\"},{\"country\":\"AT\",\"state_binary\":\"Success\",\"n_proj\":60,\"total_proj\":351,\"perc\":17.09401709401709,\"y\":17.09401709401709,\"name\":\"AT\"},{\"country\":\"SG\",\"state_binary\":\"Success\",\"n_proj\":32,\"total_proj\":81,\"perc\":39.50617283950617,\"y\":39.50617283950617,\"name\":\"SG\"},{\"country\":\"HK\",\"state_binary\":\"Success\",\"n_proj\":14,\"total_proj\":65,\"perc\":21.53846153846154,\"y\":21.53846153846154,\"name\":\"HK\"},{\"country\":\"LU\",\"state_binary\":\"Success\",\"n_proj\":13,\"total_proj\":35,\"perc\":37.14285714285715,\"y\":37.14285714285715,\"name\":\"LU\"},{\"country\":\"MX\",\"state_binary\":\"Success\",\"n_proj\":2,\"total_proj\":16,\"perc\":12.5,\"y\":12.5,\"name\":\"MX\"}],\"type\":\"column\",\"stacking\":\"normal\"}],\"xAxis\":{\"type\":\"category\",\"title\":{\"text\":\"Pays\"}},\"colors\":[\"rgb(155, 20, 20)\",\"rgba(8, 160, 31, 0.5)\"]},\"theme\":{\"chart\":{\"backgroundColor\":\"transparent\"},\"colors\":[\"#7cb5ec\",\"#434348\",\"#90ed7d\",\"#f7a35c\",\"#8085e9\",\"#f15c80\",\"#e4d354\",\"#2b908f\",\"#f45b5b\",\"#91e8e1\"]},\"conf_opts\":{\"global\":{\"Date\":null,\"VMLRadialGradientURL\":\"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png\",\"canvasToolsURL\":\"http =//code.highcharts.com/list(version)/modules/canvas-tools.js\",\"getTimezoneOffset\":null,\"timezoneOffset\":0,\"useUTC\":true},\"lang\":{\"contextButtonTitle\":\"Chart context menu\",\"decimalPoint\":\".\",\"downloadCSV\":\"Download CSV\",\"downloadJPEG\":\"Download JPEG image\",\"downloadPDF\":\"Download PDF document\",\"downloadPNG\":\"Download PNG image\",\"downloadSVG\":\"Download SVG vector image\",\"downloadXLS\":\"Download XLS\",\"drillUpText\":\"◁ Back to {series.name}\",\"exitFullscreen\":\"Exit from full screen\",\"exportData\":{\"annotationHeader\":\"Annotations\",\"categoryDatetimeHeader\":\"DateTime\",\"categoryHeader\":\"Category\"},\"hideData\":\"Hide data table\",\"invalidDate\":null,\"loading\":\"Loading...\",\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"noData\":\"No data to display\",\"numericSymbolMagnitude\":1000,\"numericSymbols\":[\"k\",\"M\",\"G\",\"T\",\"P\",\"E\"],\"printChart\":\"Print chart\",\"resetZoom\":\"Reset zoom\",\"resetZoomTitle\":\"Reset zoom level 1:1\",\"shortMonths\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"shortWeekdays\":[\"Sat\",\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\"],\"thousandsSep\":\" \",\"viewData\":\"View data table\",\"viewFullscreen\":\"View in full screen\",\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]}},\"type\":\"chart\",\"fonts\":[],\"debug\":false},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\nEn examinant ces visualisations supplémentaires, nous constatons que la grande majorité des projets ont une durée de 30 jours et sont lancés aux États-Unis. L'objectif de financement (goal) en USD semble avoir un impact significatif sur le critère de réussite ou d'échec du financement du projet.\n\n## Features selections pour le modèle\n\n- main_category\n- goal\n- duration\n- Nous allons filtrer nos données pour faire un modèle uniquement pour les projets aux États-Unis\n\nEnfin, il semble important de prendre en compte le nom du projet. Nous allons calculer un score d'analyse de sentiment à partir des noms des projets et l'inclure dans notre modèle.\n\n# Sentiment Analysis - Name\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf = df |>\n    subset(country == \"US\")\n```\n:::\n\n\n\n\n## AFINN Lexicon\n\nNous aurions pu utiliser différents lexiques et comparer les résultats. Pour l'instant, je vais continuer avec le lexique AFINN.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf = df |>\n    subset(country == \"US\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_afinn = df |>\n    tidytext::unnest_tokens(word, name) |>\n    inner_join(tidytext::get_sentiments(\"afinn\"), by = \"word\") |>\n    group_by(ID) |>\n    mutate(\n        overall_sent = sum(value)\n    ) |>\n    select(ID, overall_sent) |>\n    unique()\n\ndf_afinn_clean <- left_join(df, df_afinn, by = \"ID\")\n\ndf_afinn_clean$overall_sent |> is.na() |> sum()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 182618\n```\n\n\n:::\n:::\n\n\n\n\nNous constatons que de nombreux projets ont un score de sentiment manquant (NA). Nous ferons l'hypothèse que ces projets ont un sentiment neutre et nous imputerons une valeur de 0 pour le sentiment à ces projets.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_afinn_clean <- df_afinn_clean %>% \n  replace_na(list(overall_sent = 0))\n```\n:::\n\n\n\n\nRegarons avec un modèle très simple si le score de sentiment du nom d'un projet peut avoir un effet sur la réussite de celui-ci :\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(glm(state_binary ~ overall_sent, data = df_afinn_clean, family = \"binomial\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nglm(formula = state_binary ~ overall_sent, family = \"binomial\", \n    data = df_afinn_clean)\n\nCoefficients:\n              Estimate Std. Error  z value Pr(>|z|)    \n(Intercept)  -0.503950   0.004183 -120.481  < 2e-16 ***\noverall_sent -0.018711   0.003228   -5.796 6.79e-09 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 335571  on 253525  degrees of freedom\nResidual deviance: 335537  on 253524  degrees of freedom\nAIC: 335541\n\nNumber of Fisher Scoring iterations: 4\n```\n\n\n:::\n:::\n\n\n\n\nLe score de sentiment a un effet significatif, bien que son poids soit relativement faible. Nous conserverons tout de même cette variable dans notre modèle, notamment pour d'éventuelles analyses plus approfondies par catégorie ou sous-catégorie.\n\n# Data Modeling\n\n## Data prep\n\nVoici les variables que nous allons selectionnés pour notre modèle :\n- main_category\n- goal\n- duration\n- overall_sent\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_model = df_afinn_clean |>\n    select(state_binary, overall_sent, main_category, goal, duration) |>\n    mutate(\n        duration = as.numeric(duration)\n    )\n```\n:::\n\n\n\n\n## Data Modelling & Prep\n\nNous allons commencer par tester un modèle de régression logistique pénalisée. Ce modèle présente plusieurs avantages, notamment :\n\n- Intégration des techniques Lasso (régularisation L1) et Ridge (régularisation L2)\n- Prévention de l'overfitting\n- Sélection des variables (avec Lasso)\n- Réduction de la multicolinéarité (avec Ridge)\n\n### Data Splitting & resampling\n\nIci, plutôt que d'utiliser plusieurs itérations de rééchantillonnage, nous avons créé un seul rééchantillon, appelé val_set. Le graphique ci-dessous illustre notre partitionnement des données et notre rééchantillonnage.\n\n![](validation-split.svg)\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(123)\n\nsplits <- initial_split(df_model, strata = state_binary)\n\ndf_other <- training(splits)\ndf_test <- testing(splits)\n\nval_set <- validation_split(df_other, \n                            strata = state_binary, \n                            prop = 0.80)\n```\n:::\n\n\n\n\n##  penalized logistic regression\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlr_mod <- logistic_reg(penalty = tune(), mixture = 1) |>\n    set_engine(\"glmnet\")\n```\n:::\n\n\n\n\nIci, nous réglons le paramètre de mixture à 1 pour obtenir le modèle le plus simple possible, en privilégiant ainsi la régularisation Lasso.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlr_recipe <- \n  recipe(state_binary ~ ., data = df_other) %>% \n  step_dummy(all_nominal_predictors()) %>% \n  step_zv(all_predictors()) %>% \n  step_normalize(all_predictors())\n\nlr_workflow <- \n  workflow() %>% \n  add_model(lr_mod) %>% \n  add_recipe(lr_recipe)\n```\n:::\n\n\n\n\n- step_dummy(): Convertit les variables catégorielles (caractères ou facteurs) en un ou plusieurs termes binaires numériques représentant chaque niveau des données d'origine.\n\n- step_zv(): Supprime les variables indicatrices qui contiennent uniquement une valeur unique (par exemple, des zéros). Cela est important pour les modèles pénalisés, car les prédicteurs doivent être centrés et mis à l'échelle.\n\n- step_normalize(): Centre et met à l'échelle les variables numériques.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlr_reg_grid <- tibble(penalty = 10^seq(-4, -1, length.out = 30))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlr_res <- \n  lr_workflow %>% \n  tune_grid(val_set,\n            grid = lr_reg_grid,\n            control = control_grid(save_pred = TRUE),\n            metrics = metric_set(roc_auc))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlr_plot <- \n  lr_res %>% \n  collect_metrics() %>% \n  ggplot(aes(x = penalty, y = mean)) + \n  geom_point() + \n  geom_line() + \n  ylab(\"Area under the ROC Curve\") +\n  scale_x_log10(labels = scales::label_number())\n\nlr_plot \n```\n\n::: {.cell-output-display}\n![](R_Analysis_files/figure-html/unnamed-chunk-30-1.png){width=672}\n:::\n:::\n\n\n\n\nCe graphique montre que les performances du modèle sont généralement meilleures lorsque les valeurs de pénalité sont plus faibles. Cela suggère que la plupart des prédicteurs sont importants pour le modèle. Étant donné que nous avons sélectionné un nombre limité de variables pour ce modèle, cela semble cohérent.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect_best(lr_res, metric = 'roc_auc')\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 2\n  penalty .config              \n    <dbl> <chr>                \n1  0.0001 Preprocessor1_Model01\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlr_best <- lr_res %>% \n  collect_metrics() %>% \n  arrange(penalty) %>% \n  slice(1)\n\nlr_auc <- lr_res |>\n    collect_predictions(parameters = lr_best) |>\n    roc_curve(state_binary, .pred_0) |>\n    mutate(model = \"Logistic Regression\")\n```\n:::\n\n\n\n\nLe niveau de performance généré par ce modèle de régression logistique est correct mais pas optimal. La nature linéaire de l'équation de prédiction peut être trop restrictive pour cet ensemble de données. Lors de la prochaine étape, nous pourrions envisager d'utiliser un modèle non linéaire plus complexe, tel qu'une méthode d'ensemble basée sur les arbres.\n\n##  tree-based ensemble\n\nComparons notre premier modèle à un random forest.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncores <- parallel::detectCores()\n\n\nrf_mod <- \n  rand_forest(mtry = tune(), min_n = tune(), trees = 1000) %>% \n  set_engine(\"ranger\", num.threads = cores/2) %>% \n  set_mode(\"classification\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrf_recipe <- \n  recipe(state_binary ~ ., data = df_other)\n\nrf_workflow <- \n  workflow() %>% \n  add_model(rf_mod) %>% \n  add_recipe(rf_recipe)\n\nset.seed(345)\nrf_res <- \n  rf_workflow %>% \n  tune_grid(val_set,\n            grid = 25,\n            control = control_grid(save_pred = TRUE),\n            metrics = metric_set(roc_auc))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrf_best <- \n  rf_res %>% \n  select_best(metric = \"roc_auc\")\nrf_best\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n   mtry min_n .config              \n  <int> <int> <chr>                \n1     1    38 Preprocessor1_Model07\n```\n\n\n:::\n:::\n\n\n\n\n## Compare both models using ROC curves \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrf_auc <- \n  rf_res %>% \n  collect_predictions(parameters = rf_best) %>% \n  roc_curve(state_binary, .pred_0) %>% \n  mutate(model = \"Random Forest\")\n\nbind_rows(rf_auc, lr_auc) %>% \n  ggplot(aes(x = 1 - specificity, y = sensitivity, col = model)) + \n  geom_path(lwd = 1.5, alpha = 0.8) +\n  geom_abline(lty = 3) + \n  coord_equal() + \n  scale_color_viridis_d(option = \"plasma\", end = .6)\n```\n\n::: {.cell-output-display}\n![](R_Analysis_files/figure-html/unnamed-chunk-36-1.png){width=672}\n:::\n:::\n\n\n\n\nLa forêt aléatoire est systématiquement meilleure pour tous les seuils de probabilité des événements.\n\n## Fit the Final Model\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# the last model\nlast_rf_mod <- \n  rand_forest(mtry = 1, min_n = 38, trees = 1000) %>% \n  set_engine(\"ranger\", num.threads = cores / 2, importance = \"impurity\") %>% \n  set_mode(\"classification\")\n\n# the last workflow\nlast_rf_workflow <- \n  rf_workflow %>% \n  update_model(last_rf_mod)\n\n# the last fit\nset.seed(345)\nlast_rf_fit <- \n  last_rf_workflow %>% \n  last_fit(splits)\n\nlast_rf_fit %>% \n  collect_metrics()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 4\n  .metric     .estimator .estimate .config             \n  <chr>       <chr>          <dbl> <chr>               \n1 accuracy    binary         0.665 Preprocessor1_Model1\n2 roc_auc     binary         0.698 Preprocessor1_Model1\n3 brier_class binary         0.209 Preprocessor1_Model1\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlast_rf_fit %>% \n  extract_fit_parsnip() %>% \n  vip(num_features = 10)\n```\n\n::: {.cell-output-display}\n![](R_Analysis_files/figure-html/unnamed-chunk-38-1.png){width=672}\n:::\n:::\n\n\n\n\nNous obtenons donc un modèle avec une précision de 66,5 % et un ROC AUC de 0,697. Bien que ces résultats ne soient pas extraordinaires, ils sont tout de même encourageants pour poursuivre l'exploration et améliorer l'efficacité de notre modèle.\n\n# Améliorations possibles et rapides\n\n- Examiner le mois de lancement (en particulier) pour vérifier la saisonnalité ou d'autres facteurs similaires.\n- Jeu de données déséquilibré (mais pas de manière excessive) : possibilité de faire du sous-échantillonnage (probablement la méthode la plus simple ici) ou du sur-échantillonnage de la classe réussie. Dans ce cas là, il est préférable d'utiliser des métriques telles que le F1-score, le rappel (recall), la précision (precision) ou le AUC-ROC, car l'accuracy peut être biaisée dans ce cas.\n- Envisager de créer un modèle différent par catégorie principale (main_category) ?\n- Prendre en compte le jour du mois où le projet est lancé ?\n- Privilégier Ridge dans le modèle glmnet étant donné que nous avons déjà très peu de variables.\n- Tester divers modèles, notamment XGboost / LightGBM qui permettront probablement d'augmenter l'éfficacité du modèle\n\n\n# Session info \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.4.1 (2024-06-14 ucrt)\nPlatform: x86_64-w64-mingw32/x64\nRunning under: Windows 11 x64 (build 22631)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=French_Canada.utf8  LC_CTYPE=French_Canada.utf8   \n[3] LC_MONETARY=French_Canada.utf8 LC_NUMERIC=C                  \n[5] LC_TIME=French_Canada.utf8    \n\ntime zone: America/Toronto\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nother attached packages:\n [1] ranger_0.16.0      glmnet_4.1-8       Matrix_1.7-0       vip_0.4.1         \n [5] yardstick_1.3.1    workflowsets_1.1.0 workflows_1.1.4    tune_1.2.1        \n [9] rsample_1.2.1      recipes_1.1.0      parsnip_1.2.1      modeldata_1.4.0   \n[13] infer_1.0.7        dials_1.3.0        scales_1.3.0       broom_1.0.6       \n[17] tidymodels_1.2.0   textdata_0.4.5     tidytext_0.4.2     highcharter_0.9.4 \n[21] skimr_2.1.5        lubridate_1.9.3    forcats_1.0.0      stringr_1.5.1     \n[25] dplyr_1.1.4        purrr_1.0.2        readr_2.1.5        tidyr_1.3.1       \n[29] tibble_3.2.1       ggplot2_3.5.1      tidyverse_2.0.0   \n\nloaded via a namespace (and not attached):\n [1] rlang_1.1.4         magrittr_2.0.3      furrr_0.3.1        \n [4] compiler_4.4.1      vctrs_0.6.5         lhs_1.2.0          \n [7] shape_1.4.6.1       pkgconfig_2.0.3     fastmap_1.2.0      \n[10] backports_1.5.0     labeling_0.4.3      utf8_1.2.4         \n[13] rmarkdown_2.28      prodlim_2024.06.25  tzdb_0.4.0         \n[16] xfun_0.47           jsonlite_1.8.8      SnowballC_0.7.1    \n[19] parallel_4.4.1      R6_2.5.1            stringi_1.8.4      \n[22] rlist_0.4.6.2       parallelly_1.38.0   rpart_4.1.23       \n[25] iterators_1.0.14    Rcpp_1.0.13         assertthat_0.2.1   \n[28] knitr_1.48          future.apply_1.11.2 zoo_1.8-12         \n[31] base64enc_0.1-3     splines_4.4.1       nnet_7.3-19        \n[34] igraph_2.0.3        timechange_0.3.0    tidyselect_1.2.1   \n[37] rstudioapi_0.16.0   yaml_2.3.10         timeDate_4032.109  \n[40] codetools_0.2-20    curl_5.2.2          listenv_0.9.1      \n[43] lattice_0.22-6      quantmod_0.4.26     withr_3.0.1        \n[46] evaluate_0.24.0     future_1.34.0       survival_3.6-4     \n[49] xts_0.14.0          pillar_1.9.0        janeaustenr_1.0.0  \n[52] renv_1.0.7          foreach_1.5.2       generics_0.1.3     \n[55] TTR_0.24.4          hms_1.1.3           munsell_0.5.1      \n[58] globals_0.16.3      class_7.3-22        glue_1.7.0         \n[61] tools_4.4.1         data.table_1.16.0   tokenizers_0.3.0   \n[64] gower_1.0.1         fs_1.6.4            grid_4.4.1         \n[67] ipred_0.9-15        colorspace_2.1-1    repr_1.1.7         \n[70] cli_3.6.3           DiceDesign_1.10     rappdirs_0.3.3     \n[73] fansi_1.0.6         viridisLite_0.4.2   lava_1.8.0         \n[76] gtable_0.3.5        GPfit_1.0-8         digest_0.6.37      \n[79] farver_2.1.2        htmlwidgets_1.6.4   htmltools_0.5.8.1  \n[82] lifecycle_1.0.4     hardhat_1.4.0       MASS_7.3-60.2      \n```\n\n\n:::\n:::\n",
    "supporting": [
      "R_Analysis_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<script src=\"site_libs/proj4js-2.3.15/proj4.js\"></script>\n<link href=\"site_libs/highcharts-9.3.1/css/motion.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/highcharts-9.3.1/highcharts.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/highcharts-3d.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/highcharts-more.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/stock.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/map.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/data.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/exporting.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/offline-exporting.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/drilldown.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/item-series.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/overlapping-datalabels.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/annotations.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/export-data.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/funnel.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/heatmap.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/treemap.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/sankey.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/dependency-wheel.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/organization.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/solid-gauge.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/streamgraph.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/sunburst.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/vector.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/wordcloud.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/xrange.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/tilemap.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/venn.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/gantt.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/timeline.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/parallel-coordinates.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/bullet.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/coloraxis.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/dumbbell.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/lollipop.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/series-label.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/plugins/motion.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/custom/reset.js\"></script>\n<script src=\"site_libs/highcharts-9.3.1/modules/boost.js\"></script>\n<script src=\"site_libs/highchart-binding-0.9.4/highchart.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}